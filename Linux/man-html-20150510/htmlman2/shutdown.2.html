<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>shutdown(2) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="shutdown(2) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index2.html" shape="rect">Section 2</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="shutdown.2" name="shutdown.2" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>shutdown — shut down part of a full-duplex
      connection</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;sys/socket.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>shutdown</strong>(</code></td>

            <td rowspan="1" colspan="1">int <var class="pdparam">sockfd</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">how</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect1" name="shutdown-2_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">shutdown</code>() call causes
      all or part of a full-duplex connection on the socket
      associated with <em class="parameter"><code>sockfd</code></em> to be shut down. If
      <em class="parameter"><code>how</code></em> is <code class="constant">SHUT_RD</code>, further receptions will be
      disallowed. If <em class="parameter"><code>how</code></em> is
      <code class="constant">SHUT_WR</code>, further transmissions
      will be disallowed. If <em class="parameter"><code>how</code></em> is <code class="constant">SHUT_RDWR</code>, further receptions and
      transmissions will be disallowed.</p>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect2" name="shutdown-2_sect2" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p>On success, zero is returned. On error, −1 is
      returned, and <code class="varname">errno</code> is set
      appropriately.</p>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect3" name="shutdown-2_sect3" shape="rect"> </a>

      <h2>ERRORS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EBADF</span></span></dt>

          <dd>
            <p><em class="parameter"><code>sockfd</code></em> is
            not a valid descriptor.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>

          <dd>
            <p>An invalid value was specified in <em class="parameter"><code>how</code></em> (but see BUGS).</p>
          </dd>

          <dt><span class="term"><span class="errorname">ENOTCONN</span></span></dt>

          <dd>
            <p>The specified socket is not connected.</p>
          </dd>

          <dt><span class="term"><span class="errorname">ENOTSOCK</span></span></dt>

          <dd>
            <p><em class="parameter"><code>sockfd</code></em> is a
            file, not a socket.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect4" name="shutdown-2_sect4" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>POSIX.1-2001, 4.4BSD (the <code class="function">shutdown</code>() function call first appeared in
      4.2BSD).</p>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect5" name="shutdown-2_sect5" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>The constants <code class="constant">SHUT_RD</code>,
      <code class="constant">SHUT_WR</code>, <code class="constant">SHUT_RDWR</code> have the value 0, 1, 2,
      respectively, and are defined in <code class="literal">&lt;</code><code class="filename">sys/socket.h</code><code class="literal">&gt;</code> since glibc-2.1.91.</p>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect6" name="shutdown-2_sect6" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>Checks for the validity of <em class="parameter"><code>how</code></em> are done in domain-specific
      code, and before Linux 3.7 not all domains performed these
      checks. Most notably, UNIX domain sockets simply ignored
      invalid values. This problem was fixed for UNIX domain
      sockets in Linux 3.7.</p>
    </div>

    <div class="refsect1">
      <a id="shutdown-2_sect7" name="shutdown-2_sect7" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman2/connect.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">connect</span>(2)</span></a>, <a class="link" href="../htmlman2/socket.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">socket</span>(2)</span></a>, <a class="link" href="../htmlman7/socket.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">socket</span>(7)</span></a></p>
    </div>

    <div class="colophon">
      <a id="shutdown-2_sect8" name="shutdown-2_sect8" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 4.00 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man−pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (c) 1983, 1991 The Regents of the University of California.<br />

                  All rights reserved.<br />
                  <br />
                  %%%LICENSE_START(BSD_4_CLAUSE_UCB)<br />
                  Redistribution and use in source and binary forms, with or without<br />

                  modification, are permitted provided that the following conditions<br />

                  are met:<br />
                  1. Redistributions of source code must retain the above copyright<br />

                     notice, this list of conditions and the following disclaimer.<br />

                  2. Redistributions in binary form must reproduce the above copyright<br />

                     notice, this list of conditions and the following disclaimer in the<br />

                     documentation and/or other materials provided with the distribution.<br />

                  3. All advertising materials mentioning features or use of this software<br />

                     must display the following acknowledgement:<br />

                  This product includes software developed by the University of<br />

                  California, Berkeley and its contributors.<br />

                  4. Neither the name of the University nor the names of its contributors<br />

                     may be used to endorse or promote products derived from this software<br />

                     without specific prior written permission.<br />

                  <br />
                  THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND<br />

                  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE<br />

                  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE<br />

                  ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE<br />

                  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL<br />

                  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS<br />

                  OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)<br />

                  HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT<br />

                  LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY<br />

                  OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF<br />

                  SUCH DAMAGE.<br />
                  %%%LICENSE_END<br />
                  <br />
                      $Id: shutdown.2,v 1.1.1.1 1999/03/21 22:52:23 freitag Exp $<br />

                  <br />
                  Modified Sat Jul 24 09:57:55 1993 by Rik Faith &lt;faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu&gt;<br />

                  Modified Tue Oct 22 22:04:51 1996 by Eric S. Raymond &lt;esr<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>thyrsus.com&gt;<br />

                  Modified 1998 by Andi Kleen<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
