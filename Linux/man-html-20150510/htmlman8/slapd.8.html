<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>slapd(8) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="slapd(8) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index8.html" shape="rect">Section 8</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="slapd.8" name="slapd.8" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>slapd — Stand-alone LDAP Daemon</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="cmdsynopsis">
        <p><code class="command">LIBEXECDIR/slapd</code> [
        <code class="option">−4</code> | <code class="option">−6</code> ] [ <code class="option">−T</code> acl | a [dd] | auth | c [at] | d
        [n] | i [ndex] | p [asswd] | s [chema] | t [est] ] [
        <code class="option">−d</code> debug−level ] [
        <code class="option">−f</code>
        slapd−config−file ] [ <code class="option">−F</code> slapd−config−directory
        ] [ <code class="option">−h</code> URLs ] [
        <code class="option">−n</code> service−name ] [
        <code class="option">−s</code> syslog−level ] [
        <code class="option">−l</code>
        syslog−local−user ] [ <code class="option">−o</code> option[= value] ] [ <code class="option">−r</code> directory ] [ <code class="option">−u</code> user ] [ <code class="option">−g</code> group ] [ <code class="option">−c</code> cookie ]</p>
      </div>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect1" name="slapd-8_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><em class="replaceable"><code>Slapd</code></em> is the
      stand-alone LDAP daemon. It listens for LDAP connections on
      any number of ports (default <code class="constant">389</code>), responding to the LDAP operations it
      receives over these connections. <span class="command"><strong>slapd</strong></span> is typically invoked
      at boot time, usually out of <code class="filename">/etc/rc.local</code>. Upon startup, <span class="command"><strong>slapd</strong></span> normally forks and
      disassociates itself from the invoking tty. If configured in
      the config file (or config directory), the <span class="command"><strong>slapd</strong></span> process will print
      its process ID (see <a class="link" href="../htmlman2/getpid.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getpid</span>(2)</span></a>) to a <em class="replaceable"><code>.pid</code></em> file, as well as the
      command line options during invocation to an <em class="replaceable"><code>.args</code></em> file (see <a class="link" href="../htmlman5/slapd.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd.conf</span>(5)</span></a>). If the
      <code class="option">−d</code> flag is given, even with
      a zero argument, <span class="command"><strong>slapd</strong></span> will not fork and
      disassociate from the invoking tty.</p>

      <p>See the "OpenLDAP Administrator's Guide" for more details
      on <span class="command"><strong>slapd</strong></span>.</p>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect2" name="slapd-8_sect2" shape="rect"> </a>

      <h2>OPTIONS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−4</code></span></dt>

          <dd>
            <p>Listen on IPv4 addresses only.</p>
          </dd>

          <dt><span class="term"><code class="option">−6</code></span></dt>

          <dd>
            <p>Listen on IPv6 addresses only.</p>
          </dd>

          <dt><span class="term"><code class="option">−T
          tool</code></span></dt>

          <dd>
            <p>Run in Tool mode. The <em class="replaceable"><code>tool</code></em> argument selects
            whether to run as <span class="command"><strong>slapadd</strong></span>, <span class="command"><strong>slapcat</strong></span>, <span class="command"><strong>slapdn</strong></span>, <span class="command"><strong>slapindex</strong></span>,
            <span class="command"><strong>slappasswd</strong></span>,
            <span class="command"><strong>slapschema</strong></span>, or
            <span class="command"><strong>slaptest</strong></span>
            (<span class="command"><strong>slapacl</strong></span>
            and <span class="command"><strong>slapauth</strong></span> need the
            entire <em class="parameter"><code>acl</code></em> and
            <em class="parameter"><code>auth</code></em> option
            value to be spelled out, as <em class="parameter"><code>a</code></em> is reserved to
            <span class="command"><strong>slapadd</strong></span>).
            This option should be the first option specified when
            it is used; any remaining options will be interpreted
            by the corresponding slap tool program, according to
            the respective man pages. Note that these tool programs
            will usually be symbolic links to <span class="command"><strong>slapd</strong></span>. This option is
            provided for situations where symbolic links are not
            provided or not usable.</p>
          </dd>

          <dt><span class="term"><code class="option">−d
          debug−level</code></span></dt>

          <dd>
            <p>Turn on debugging as defined by <em class="parameter"><code>debug-level</code></em>. If this
            option is specified, even with a zero argument,
            <span class="command"><strong>slapd</strong></span>
            will not fork or disassociate from the invoking
            terminal. Some general operation and status messages
            are printed for any value of <em class="parameter"><code>debug-level</code></em>. <em class="parameter"><code>debug-level</code></em> is taken as a
            bit string, with each bit corresponding to a different
            kind of debugging information. See &lt;ldap_log.h&gt;
            for details. Comma-separated arrays of friendly names
            can be specified to select debugging output of the
            corresponding debugging information. All the names
            recognized by the <em class="replaceable"><code>loglevel</code></em> directive
            described in <a class="link" href="../htmlman5/slapd.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd.conf</span>(5)</span></a> are
            supported. If <em class="parameter"><code>debug-level</code></em> is
            <code class="literal">?</code>, a list of installed
            debug-levels is printed, and slapd exits.</p>

            <p>Remember that if you turn on packet logging, packets
            containing bind passwords will be output, so if you
            redirect the log to a logfile, that file should be
            read-protected.</p>
          </dd>

          <dt><span class="term"><code class="option">−s
          syslog−level</code></span></dt>

          <dd>
            <p>This option tells <span class="command"><strong>slapd</strong></span> at what
            debug-level debugging statements should be logged to
            the <span class="citerefentry"><span class="refentrytitle">syslog</span>(8)</span> facility. The
            value <em class="parameter"><code>syslog-level</code></em> can be set
            to any value or combination allowed by the <code class="option">−d</code> switch. Slapd logs all
            messages selected by <em class="replaceable"><code>syslog-leveli</code></em> at the
            <a class="link" href="../htmlman3/syslog.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> severity
            debug-level <code class="constant">DEBUG</code>, on the
            unit specified with <code class="option">−l</code>.</p>
          </dd>

          <dt><span class="term"><code class="option">−n
          service−name</code></span></dt>

          <dd>
            <p>Specifies the service name for logging and other
            purposes. Defaults to basename of argv[0], i.e.:
            "slapd".</p>
          </dd>

          <dt><span class="term"><code class="option">−l
          syslog−local−user</code></span></dt>

          <dd>
            <p>Selects the local user of the <span class="citerefentry"><span class="refentrytitle">syslog</span>(8)</span> facility. Value
            can be <code class="constant">LOCAL0</code>, through
            <code class="constant">LOCAL7</code>, as well as
            <code class="constant">USER</code> and <code class="constant">DAEMON</code>. The default is <code class="constant">LOCAL4</code>. However, this option is only
            permitted on systems that support local users with the
            <span class="citerefentry"><span class="refentrytitle">syslog</span>(8)</span> facility.
            Logging to syslog(8) occurs at the "DEBUG" severity
            debug-level.</p>
          </dd>

          <dt><span class="term"><code class="option">−f
          slapd−config−file</code></span></dt>

          <dd>
            <p>Specifies the slapd configuration file. The default
            is <em class="replaceable"><code>ETCDIR/slapd.conf</code></em>.</p>
          </dd>

          <dt><span class="term"><code class="option">−F
          slapd−config−directory</code></span></dt>

          <dd>
            <p>Specifies the slapd configuration directory. The
            default is <em class="replaceable"><code>ETCDIR/slapd.d</code></em>. If both
            <code class="option">−f</code> and <code class="option">−F</code> are specified, the config file
            will be read and converted to config directory format
            and written to the specified directory. If neither
            option is specified, slapd will attempt to read the
            default config directory before trying to use the
            default config file. If a valid config directory exists
            then the default config file is ignored. All of the
            slap tools that use the config options observe this
            same behavior.</p>
          </dd>

          <dt><span class="term"><code class="option">−h
          URLlist</code></span></dt>

          <dd>
            <p><span class="command"><strong>slapd</strong></span>
            will by default serve <em class="replaceable"><code>ldap:///</code></em> (LDAP over TCP
            on all interfaces on default LDAP port). That is, it
            will bind using INADDR_ANY and port <code class="constant">389</code>. The <code class="option">−h</code> option may be used to specify
            LDAP (and other scheme) URLs to serve. For example, if
            slapd is given <code class="option">−h
            "ldap://127.0.0.1:9009/ ldaps:/// ldapi:///"</code>, it
            will listen on 127.0.0.1:9009 for LDAP, 0.0.0.0:636 for
            LDAP over TLS, and LDAP over IPC (Unix domain sockets).
            Host 0.0.0.0 represents INADDR_ANY (any interface). A
            space separated list of URLs is expected. The URLs
            should be of the LDAP, LDAPS, or LDAPI schemes, and
            generally without a DN or other optional parameters
            (excepting as discussed below). Support for the latter
            two schemes depends on selected configuration options.
            Hosts may be specified by name or IPv4 and IPv6 address
            formats. Ports, if specified, must be numeric. The
            default ldap:// port is <code class="constant">389</code> and the default ldaps:// port is
            <code class="constant">636</code>.</p>

            <p>For LDAP over IPC, <em class="replaceable"><code>name</code></em> is the name of the
            socket, and no <em class="replaceable"><code>port</code></em> is required, nor
            allowed; note that directory separators must be
            URL-encoded, like any other characters that are special
            to URLs; so the socket</p>

            <p>/usr/local/var/ldapi</p>

            <p>must be specified as</p>

            <p>ldapi://%2Fusr%2Flocal%2Fvar%2Fldapi</p>

            <p>The default location for the IPC socket is
            LOCALSTATEDIR/run/ldapi</p>

            <p>The listener permissions are indicated by
            "x−mod=−rwxrwxrwx", "x−mod=0777" or
            "x−mod=777", where any of the "rwx" can be
            "−" to suppress the related permission, while any
            of the "7" can be any legal octal digit, according to
            chmod(1). The listeners can take advantage of the
            "x−mod" extension to apply rough limitations to
            operations, e.g. allow read operations ("r", which
            applies to search and compare), write operations ("w",
            which applies to add, delete, modify and modrdn), and
            execute operations ("x", which means bind is required).
            "User" permissions apply to authenticated users, while
            "other" apply to anonymous users; "group" permissions
            are ignored. For example,
            "ldap:///????x−mod=−rw−−−−−−−"
            means that read and write is only allowed for
            authenticated connections, and bind is required for all
            operations. This feature is experimental, and requires
            to be manually enabled at configure time.</p>
          </dd>

          <dt><span class="term"><code class="option">−r
          directory</code></span></dt>

          <dd>
            <p>Specifies a directory to become the root directory.
            slapd will change the current working directory to this
            directory and then <a class="link" href="../htmlman2/chroot.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> to this
            directory. This is done after opening listeners but
            before reading any configuration file or initializing
            any backend. When used as a security mechanism, it
            should be used in conjunction with <code class="option">−u</code> and <code class="option">−g</code> options.</p>
          </dd>

          <dt><span class="term"><code class="option">−u
          user</code></span></dt>

          <dd>
            <p><span class="command"><strong>slapd</strong></span>
            will run slapd with the specified user name or id, and
            that user's supplementary group access list as set with
            initgroups(3). The group ID is also changed to this
            user's gid, unless the <code class="option">−g</code> option is used to override.
            Note when used with <code class="option">−r</code>, slapd will use the user
            database in the change root environment.</p>

            <p>Note that on some systems, running as a
            non-privileged user will prevent passwd back-ends from
            accessing the encrypted passwords. Note also that any
            shell back-ends will run as the specified
            non-privileged user.</p>
          </dd>

          <dt><span class="term"><code class="option">−g
          group</code></span></dt>

          <dd>
            <p><span class="command"><strong>slapd</strong></span>
            will run with the specified group name or id. Note when
            used with <code class="option">−r</code>, slapd
            will use the group database in the change root
            environment.</p>
          </dd>

          <dt><span class="term"><code class="option">−c
          cookie</code></span></dt>

          <dd>
            <p>This option provides a cookie for the syncrepl
            replication consumer. The cookie is a comma separated
            list of <em class="replaceable"><code>name=value</code></em> pairs.
            Currently supported syncrepl cookie fields are
            <span class="command"><strong>rid</strong></span>,
            <span class="command"><strong>sid</strong></span>, and
            <span class="command"><strong>csn</strong></span>.
            <em class="replaceable"><code>rid</code></em>
            identifies a replication thread within the consumer
            server and is used to find the syncrepl specification
            in <a class="link" href="../htmlman5/slapd.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd.conf</span>(5)</span></a> or
            <a class="link" href="../htmlman5/slapd-config.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd-config</span>(5)</span></a>
            having the matching replication identifier in its
            definition. The <em class="replaceable"><code>rid</code></em> must be provided in
            order for any other specified values to be used.
            <em class="replaceable"><code>sid</code></em> is the
            server id in a multi-master/mirror-mode configuration.
            <em class="replaceable"><code>csn</code></em> is the
            commit sequence number received by a previous
            synchronization and represents the state of the
            consumer replica content which the syncrepl engine will
            synchronize to the current provider content. In case of
            <em class="replaceable"><code>mirror-mode</code></em>
            or <em class="replaceable"><code>multi-master</code></em>
            replication agreement, multiple <em class="replaceable"><code>csn</code></em> values, semicolon
            separated, can appear. Use only the <em class="replaceable"><code>rid</code></em> part to force a
            full reload.</p>
          </dd>

          <dt><span class="term"><code class="option">−o
          option[=value]</code></span></dt>

          <dd>
            <p>This option provides a generic means to specify
            options without the need to reserve a separate letter
            for them.</p>

            <p>It supports the following options:</p>

            <div class="blockquote">
              <blockquote class="blockquote">
                <div class="variablelist">
                  <dl class="variablelist">
                    <dt><span class="term"><em class="replaceable"><code>slp=</code></em>{<span class="command"><strong>on</strong></span>|<span class="command"><strong>off</strong></span>|<em class="replaceable"><code><em class="replaceable"><code>slp-attrs</code></em></code></em>}</span></dt>

                    <dd>
                      <p>When SLP support is compiled into slapd,
                      disable it (<span class="command"><strong>off</strong></span>),
                      enable it by registering at SLP DAs without
                      specific SLP attributes (<span class="command"><strong>on</strong></span>), or
                      with specific SLP attributes <em class="replaceable"><code>slp-attrs</code></em>
                      that must be an SLP attribute list definition
                      according to the SLP standard.</p>

                      <p>For example, <em class="replaceable"><code>"slp=(tree=production),(server-type=OpenLDAP),(server−version=2.4.15)"</code></em>
                      registers at SLP DAs with the three SLP
                      attributes tree, server-type and
                      server-version that have the values given
                      above. This allows to specifically query the
                      SLP DAs for LDAP servers holding the
                      <em class="replaceable"><code>production</code></em>
                      tree in case multiple trees are
                      available.</p>
                    </dd>
                  </dl>
                </div>
              </blockquote>
            </div>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect3" name="slapd-8_sect3" shape="rect"> </a>

      <h2>EXAMPLES</h2>

      <p>To start <span class="command"><strong>slapd</strong></span> and have it fork and
      detach from the terminal and start serving the LDAP databases
      defined in the default config file, just type:</p>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
        LIBEXECDIR/slapd
</pre>
      </div>

      <p>To start <span class="command"><strong>slapd</strong></span> with an alternate
      configuration file, and turn on voluminous debugging which
      will be printed on standard error, type:</p>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
        LIBEXECDIR/slapd −f /var/tmp/slapd.conf −d 255
</pre>
      </div>

      <p>To test whether the configuration file is correct or not,
      type:</p>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
        LIBEXECDIR/slapd −Tt
</pre>
      </div>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect4" name="slapd-8_sect4" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/ldap.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap</span>(3)</span></a>, <a class="link" href="../htmlman5/slapd.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd.conf</span>(5)</span></a>, <a class="link" href="../htmlman5/slapd-config.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd-config</span>(5)</span></a>, <a class="link" href="../htmlman5/slapd.access.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapd.access</span>(5)</span></a>, <a class="link" href="../htmlman8/slapacl.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapacl</span>(8)</span></a>, <a class="link" href="../htmlman8/slapadd.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapadd</span>(8)</span></a>, <a class="link" href="../htmlman8/slapauth.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapauth</span>(8)</span></a>, <a class="link" href="../htmlman8/slapcat.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapcat</span>(8)</span></a>, <a class="link" href="../htmlman8/slapdn.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapdn</span>(8)</span></a>, <a class="link" href="../htmlman8/slapindex.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapindex</span>(8)</span></a>, <a class="link" href="../htmlman8/slappasswd.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slappasswd</span>(8)</span></a>, <a class="link" href="../htmlman8/slapschema.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slapschema</span>(8)</span></a>, <a class="link" href="../htmlman8/slaptest.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">slaptest</span>(8)</span></a>.</p>

      <p>"OpenLDAP Administrator's Guide"
      (http://www.OpenLDAP.org/doc/admin/)</p>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect5" name="slapd-8_sect5" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>See http://www.openldap.org/its/</p>
    </div>

    <div class="refsect1">
      <a id="slapd-8_sect6" name="slapd-8_sect6" shape="rect"> </a>

      <h2>ACKNOWLEDGEMENTS</h2>

      <p><span class="emphasis"><em>OpenLDAP Software</em></span>
      is developed and maintained by The OpenLDAP Project
      &lt;<a class="literalurl" href="http://www.openldap.org/" target="_top" shape="rect">http://www.openldap.org/</a>&gt;. <span class="emphasis"><em>OpenLDAP Software</em></span> is derived from
      University of Michigan LDAP 3.3 Release.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                  See the following documents: <a class="ulink" href="../openldap-COPYRIGHT.html" target="_top" shape="rect">COPYRIGHT</a>, <a class="ulink" href="../openldap-LICENSE.html" target="_top" shape="rect">LICENSE</a><br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
