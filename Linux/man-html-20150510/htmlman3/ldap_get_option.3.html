<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>ldap_get_option(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="ldap_get_option(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="ldap-get-option.3" name="ldap-get-option.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>ldap_get_option, ldap_set_option — LDAP option
      handling routines</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;ldap.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_get_option</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">option</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">outvalue</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_set_option</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">option</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const void *<var class="pdparam">invalue</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect1" name="ldap-get-option-3_sect1" shape="rect"> </a>

      <h2>LIBRARY</h2>

      <p>OpenLDAP LDAP (libldap, −lldap)</p>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect2" name="ldap-get-option-3_sect2" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>These routines provide access to options stored either in
      a LDAP handle or as global options, where applicable. They
      make use of a neutral interface, where the type of the value
      either retrieved by <a class="link" href="../htmlman3/ldap_get_option.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_get_option</span>(3)</span></a> or set
      by <a class="link" href="../htmlman3/ldap_get_option.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_set_option</span>(3)</span></a> is cast
      to <span class="emphasis"><em>void *</em></span>. The actual
      type is determined based on the value of the <em class="parameter"><code>option</code></em> argument. Global options
      are set/retrieved by passing a NULL LDAP handle. LDAP handles
      inherit their default settings from the global options in
      effect at the time the handle is created.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">LDAP_OPT_API_FEATURE_INFO</code></span></dt>

          <dd>
            <p>Fills-in a <span class="type">LDAPAPIFeatureInfo</span>; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="type">LDAPAPIFeatureInfo *</span>,
            pointing to an already allocated struct. This is a
            read-only option.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_API_INFO</code></span></dt>

          <dd>
            <p>Fills-in a <span class="type">LDAPAPIInfo</span>;
            <em class="parameter"><code>outvalue</code></em> must
            be a <span class="type">LDAPAPIInfo *</span>, pointing
            to an already allocated struct. This is a read-only
            option.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_CLIENT_CONTROLS</code></span></dt>

          <dd>
            <p>Sets/gets the client-side controls to be used for
            all operations. This is now deprecated as modern LDAP C
            API provides replacements for all main operations which
            accepts client-side controls as explicit arguments; see
            for example <a class="link" href="../htmlman3/ldap_search.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_search_ext</span>(3)</span></a>,
            <a class="link" href="../htmlman3/ldap_add.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_add_ext</span>(3)</span></a>,
            <a class="link" href="../htmlman3/ldap_modify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_modify_ext</span>(3)</span></a>
            and so on. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>LDAPControl ***</em></span>,
            and the caller is responsible of freeing the returned
            controls, if any, by calling <a class="link" href="../htmlman3/ldap_controls.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_controls_free</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be <span class="emphasis"><em>LDAPControl *const
            *</em></span>; the library duplicates the controls
            passed via <em class="parameter"><code>invalue</code></em>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_CONNECT_ASYNC</code></span></dt>

          <dd>
            <p>Sets/gets the status of the asynchronous connect
            flag. <em class="parameter"><code>invalue</code></em>
            should either be <code class="constant">LDAP_OPT_OFF</code> or <code class="constant">LDAP_OPT_ON</code>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>. When set,
            the library will call <a class="link" href="../htmlman2/connect.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">connect</span>(2)</span></a> and
            return, without waiting for response. This leaves the
            handle in a connecting state. Subsequent calls to
            library routines will poll for completion of the
            connect before performing further operations. As a
            consequence, library calls that need to establish a
            connection with a DSA do not block even for the network
            timeout (option <code class="constant">LDAP_OPT_NETWORK_TIMEOUT</code>). This
            option is OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_CONNECT_CB</code></span></dt>

          <dd>
            <p>This option allows to set a connect callback.
            <em class="parameter"><code>invalue</code></em> must be
            a <span class="type">const struct ldap_conncb *</span>.
            Callbacks are executed in last in-first served order.
            Handle-specific callbacks are executed first, followed
            by global ones. Right before freeing the callback
            structure, the <code class="function">lc_del</code>
            callback handler is passed a <code class="constant">NULL</code> <span class="structname">Sockbuf</span>. Calling <a class="link" href="../htmlman3/ldap_get_option.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_get_option</span>(3)</span></a>
            for this option removes the callback whose pointer
            matches <em class="parameter"><code>outvalue</code></em>. This option is
            OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_DEBUG_LEVEL</code></span></dt>

          <dd>
            <p>Sets/gets the debug level of the client library.
            <em class="parameter"><code>invalue</code></em> must be
            a <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>int *</em></span>. Valid
            debug levels are <code class="constant">LDAP_DEBUG_ANY</code>, <code class="constant">LDAP_DEBUG_ARGS</code>, <code class="constant">LDAP_DEBUG_BER</code>, <code class="constant">LDAP_DEBUG_CONNS</code>, <code class="constant">LDAP_DEBUG_NONE</code>, <code class="constant">LDAP_DEBUG_PACKETS</code>, <code class="constant">LDAP_DEBUG_PARSE</code>, and <code class="constant">LDAP_DEBUG_TRACE</code>. This option is
            OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_DEFBASE</code></span></dt>

          <dd>
            <p>Sets/gets a string containing the DN to be used as
            default base for search operations. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, and the
            caller is responsible of freeing the returned string by
            calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a <span class="type">const char *</span>; the
            library duplicates the corresponding string. This
            option is OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_DEREF</code></span></dt>

          <dd>
            <p>Sets/gets the value that defines when alias
            dereferencing must occur. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>. They
            cannot be NULL. The value of *<em class="parameter"><code>invalue</code></em> should be one of
            <code class="constant">LDAP_DEREF_NEVER</code> (the
            default), <code class="constant">LDAP_DEREF_SEARCHING</code>, <code class="constant">LDAP_DEREF_FINDING</code>, or <code class="constant">LDAP_DEREF_ALWAYS</code>. Note that this has
            ever been the only means to determine alias
            dereferencing within search operations.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_DESC</code></span></dt>

          <dd>
            <p>Returns the file descriptor associated to the socket
            buffer of the LDAP handle passed in as <em class="parameter"><code>ld</code></em>; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>int *</em></span>. This is a
            read-only, handle-specific option.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_DIAGNOSTIC_MESSAGE</code></span></dt>

          <dd>
            <p>Sets/gets a string containing the error string
            associated to the LDAP handle. This option was formerly
            known as <code class="constant">LDAP_OPT_ERROR_STRING</code>. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, and the
            caller is responsible of freeing the returned string by
            calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a <span class="emphasis"><em>char
            *</em></span>; the library duplicates the corresponding
            string.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_HOST_NAME</code></span></dt>

          <dd>
            <p>Sets/gets a space-separated list of hosts to be
            contacted by the library when trying to establish a
            connection. This is now deprecated in favor of
            <code class="constant">LDAP_OPT_URI</code>. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, and the
            caller is responsible of freeing the resulting string
            by calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a <span class="type">const char *</span>; the
            library duplicates the corresponding string.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_MATCHED_DN</code></span></dt>

          <dd>
            <p>Sets/gets a string containing the matched DN
            associated to the LDAP handle. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, and the
            caller is responsible of freeing the returned string by
            calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a <span class="type">const char *</span>; the
            library duplicates the corresponding string.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_NETWORK_TIMEOUT</code></span></dt>

          <dd>
            <p>Sets/gets the network timeout value after which
            <a class="link" href="../htmlman2/poll.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">poll</span>(2)</span></a>/<a class="link" href="../htmlman2/select.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">select</span>(2)</span></a> following a
            <a class="link" href="../htmlman2/connect.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">connect</span>(2)</span></a> returns in
            case of no activity. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="type">struct timeval **</span> (the caller
            has to free *<em class="parameter"><code>outvalue</code></em>)<code class="literal">,</code> and <em class="parameter"><code>invalue</code></em> must be a
            <span class="type">const struct timeval *</span>. They
            cannot be NULL. Using a struct with seconds set to
            −1 results in an infinite timeout, which is the
            default. This option is OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_PROTOCOL_VERSION</code></span></dt>

          <dd>
            <p>Sets/gets the protocol version. <em class="parameter"><code>outvalue</code></em> and <em class="parameter"><code>invalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_REFERRAL_URLS</code></span></dt>

          <dd>
            <p>Sets/gets an array containing the referral URIs
            associated to the LDAP handle. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char ***</em></span>, and
            the caller is responsible of freeing the returned
            string by calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memvfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a NULL-terminated <span class="emphasis"><em>char *const *</em></span>; the library
            duplicates the corresponding string. This option is
            OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_REFERRALS</code></span></dt>

          <dd>
            <p>Determines whether the library should implicitly
            chase referrals or not. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; its value should
            either be <code class="constant">LDAP_OPT_OFF</code> or
            <code class="constant">LDAP_OPT_ON</code>. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_RESTART</code></span></dt>

          <dd>
            <p>Determines whether the library should implicitly
            restart connections (FIXME). <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; its value should
            either be <code class="constant">LDAP_OPT_OFF</code> or
            <code class="constant">LDAP_OPT_ON</code>. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_RESULT_CODE</code></span></dt>

          <dd>
            <p>Sets/gets the LDAP result code associated to the
            handle. This option was formerly known as <code class="constant">LDAP_OPT_ERROR_NUMBER</code>. <em class="parameter"><code>invalue</code></em> must be a
            <span class="type">const int *</span>. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_SERVER_CONTROLS</code></span></dt>

          <dd>
            <p>Sets/gets the server-side controls to be used for
            all operations. This is now deprecated as modern LDAP C
            API provides replacements for all main operations which
            accepts server-side controls as explicit arguments; see
            for example <a class="link" href="../htmlman3/ldap_search.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_search_ext</span>(3)</span></a>,
            <a class="link" href="../htmlman3/ldap_add.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_add_ext</span>(3)</span></a>,
            <a class="link" href="../htmlman3/ldap_modify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_modify_ext</span>(3)</span></a>
            and so on. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>LDAPControl ***</em></span>,
            and the caller is responsible of freeing the returned
            controls, if any, by calling <a class="link" href="../htmlman3/ldap_controls.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_controls_free</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be <span class="emphasis"><em>LDAPControl *const
            *</em></span>; the library duplicates the controls
            passed via <em class="parameter"><code>invalue</code></em>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_SESSION_REFCNT</code></span></dt>

          <dd>
            <p>Returns the reference count associated with the LDAP
            handle passed in as <em class="parameter"><code>ld</code></em>; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>int *</em></span>. This is a
            read-only, handle-specific option. This option is
            OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_SIZELIMIT</code></span></dt>

          <dd>
            <p>Sets/gets the value that defines the maximum number
            of entries to be returned by a search operation.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>, while <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>; They
            cannot be NULL.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_SOCKBUF</code></span></dt>

          <dd>
            <p>Returns a pointer to the socket buffer of the LDAP
            handle passed in as <em class="parameter"><code>ld</code></em>; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>Sockbuf **</em></span>. This
            is a read-only, handle-specific option. This option is
            OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_TIMELIMIT</code></span></dt>

          <dd>
            <p>Sets/gets the value that defines the time limit
            after which a search operation should be terminated by
            the server. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>, while <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>, and they
            cannot be NULL.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_TIMEOUT</code></span></dt>

          <dd>
            <p>Sets/gets a timeout value for the synchronous API
            calls. <em class="parameter"><code>outvalue</code></em>
            must be a <span class="type">struct timeval **</span>
            (the caller has to free *<em class="parameter"><code>outvalue</code></em>)<code class="literal">,</code> and <em class="parameter"><code>invalue</code></em> must be a
            <span class="type">struct timeval *</span>, and they
            cannot be NULL. Using a struct with seconds set to
            −1 results in an infinite timeout, which is the
            default. This option is OpenLDAP specific.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_URI</code></span></dt>

          <dd>
            <p>Sets/gets a comma- or space-separated list of URIs
            to be contacted by the library when trying to establish
            a connection. <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, and the
            caller is responsible of freeing the resulting string
            by calling <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>,
            while <em class="parameter"><code>invalue</code></em>
            must be a <span class="type">const char *</span>; the
            library parses the string into a list of <code class="function">LDAPURLDesc</code> structures, so the
            invocation of <a class="link" href="../htmlman3/ldap_get_option.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_set_option</span>(3)</span></a>
            may fail if URL parsing fails. URIs may only contain
            the <code class="function">schema</code>, the
            <code class="function">host</code>, and the
            <code class="function">port</code> fields. This option
            is OpenLDAP specific.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect3" name="ldap-get-option-3_sect3" shape="rect"> </a>

      <h2>SASL OPTIONS</h2>

      <p>The SASL options are OpenLDAP specific.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_AUTHCID</code></span></dt>

          <dd>
            <p>Gets the SASL authentication identity; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, its
            content needs to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_AUTHZID</code></span></dt>

          <dd>
            <p>Gets the SASL authorization identity; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, its
            content needs to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_MAXBUFSIZE</code></span></dt>

          <dd>
            <p>Gets/sets SASL maximum buffer size; <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const ber_len_t *</span>, while
            <em class="parameter"><code>outvalue</code></em> must
            be <span class="emphasis"><em>ber_len_t *</em></span>.
            See also <code class="constant">LDAP_OPT_X_SASL_SECPROPS</code>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_MECH</code></span></dt>

          <dd>
            <p>Gets the SASL mechanism; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, its
            content needs to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_MECHLIST</code></span></dt>

          <dd>
            <p>Gets the list of the available mechanisms, in form
            of a NULL-terminated array of strings; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char ***</em></span>. The
            caller must not free or otherwise muck with it.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_NOCANON</code></span></dt>

          <dd>
            <p>Sets/gets the NOCANON flag. When unset, the hostname
            is canonicalized. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; its value should
            either be <code class="constant">LDAP_OPT_OFF</code> or
            <code class="constant">LDAP_OPT_ON</code>. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_REALM</code></span></dt>

          <dd>
            <p>Gets the SASL realm; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>, its
            content needs to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_SECPROPS</code></span></dt>

          <dd>
            <p>Sets the SASL secprops; <em class="parameter"><code>invalue</code></em> must be a
            <span class="emphasis"><em>char *</em></span>,
            containing a comma-separated list of properties. Legal
            values are: <code class="function">none</code>,
            <code class="function">nodict</code>, <code class="function">noplain</code>, <code class="function">noactive</code>, <code class="function">passcred</code>, <code class="function">forwardsec</code>, <code class="function">noanonymous</code>, <em class="replaceable"><code>minssf=&lt;minssf&gt;</code></em>,
            <em class="replaceable"><code>maxssf=&lt;maxssf&gt;</code></em>,
            <em class="replaceable"><code>maxbufsize=&lt;maxbufsize&gt;</code></em>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_SSF</code></span></dt>

          <dd>
            <p>Gets the SASL SSF; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>ber_len_t *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_SSF_EXTERNAL</code></span></dt>

          <dd>
            <p>Sets the SASL SSF value related to an authentication
            performed using an EXTERNAL mechanism; <em class="parameter"><code>invalue</code></em> must be a
            <span class="type">const ber_len_t *</span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_SSF_MAX</code></span></dt>

          <dd>
            <p>Gets/sets SASL maximum SSF; <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const ber_len_t *</span>, while
            <em class="parameter"><code>outvalue</code></em> must
            be <span class="emphasis"><em>ber_len_t *</em></span>.
            See also <code class="constant">LDAP_OPT_X_SASL_SECPROPS</code>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_SSF_MIN</code></span></dt>

          <dd>
            <p>Gets/sets SASL minimum SSF; <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const ber_len_t *</span>, while
            <em class="parameter"><code>outvalue</code></em> must
            be <span class="emphasis"><em>ber_len_t *</em></span>.
            See also <code class="constant">LDAP_OPT_X_SASL_SECPROPS</code>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_SASL_USERNAME</code></span></dt>

          <dd>
            <p>Gets the SASL username; <em class="parameter"><code>outvalue</code></em> must be a
            <span class="emphasis"><em>char **</em></span>. Its
            content needs to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect4" name="ldap-get-option-3_sect4" shape="rect"> </a>

      <h2>TCP OPTIONS</h2>

      <p>The TCP options are OpenLDAP specific. Mainly intended for
      use with Linux, they may not be portable.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">LDAP_OPT_X_KEEPALIVE_IDLE</code></span></dt>

          <dd>
            <p>Sets/gets the number of seconds a connection needs
            to remain idle before TCP starts sending keepalive
            probes. <em class="parameter"><code>invalue</code></em>
            must be <span class="type">const int *</span>;
            <em class="parameter"><code>outvalue</code></em> must
            be <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_KEEPALIVE_PROBES</code></span></dt>

          <dd>
            <p>Sets/gets the maximum number of keepalive probes TCP
            should send before dropping the connection. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_KEEPALIVE_INTERVAL</code></span></dt>

          <dd>
            <p>Sets/gets the interval in seconds between individual
            keepalive probes. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect5" name="ldap-get-option-3_sect5" shape="rect"> </a>

      <h2>TLS OPTIONS</h2>

      <p>The TLS options are OpenLDAP specific.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CACERTDIR</code></span></dt>

          <dd>
            <p>Sets/gets the path of the directory containing CA
            certificates. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CACERTFILE</code></span></dt>

          <dd>
            <p>Sets/gets the full-path of the CA certificate file.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CERTFILE</code></span></dt>

          <dd>
            <p>Sets/gets the full-path of the certificate file.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CIPHER_SUITE</code></span></dt>

          <dd>
            <p>Sets/gets the allowed cipher suite. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CONNECT_ARG</code></span></dt>

          <dd>
            <p>Sets/gets the connection callback argument.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const void *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>void **</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CONNECT_CB</code></span></dt>

          <dd>
            <p>Sets/gets the connection callback handle. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const LDAP_TLS_CONNECT_CB *</span>;
            <em class="parameter"><code>outvalue</code></em> must
            be <span class="emphasis"><em>LDAP_TLS_CONNECT_CB
            **</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CRLCHECK</code></span></dt>

          <dd>
            <p>Sets/gets the CRL evaluation strategy, one of
            <code class="constant">LDAP_OPT_X_TLS_CRL_NONE</code>,
            <code class="constant">LDAP_OPT_X_TLS_CRL_PEER</code>,
            or <code class="constant">LDAP_OPT_X_TLS_CRL_ALL</code>. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>. Requires
            OpenSSL.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CRLFILE</code></span></dt>

          <dd>
            <p>Sets/gets the full-path of the CRL file. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>. This
            option is only valid for GnuTLS.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_CTX</code></span></dt>

          <dd>
            <p>Sets/gets the TLS library context. New TLS sessions
            will inherit their default settings from this library
            context. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const void *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>void **</em></span>. When
            using the OpenSSL library this is an SSL_CTX*. When
            using other crypto libraries this is a pointer to an
            OpenLDAP private structure. Applications generally
            should not use this option or attempt to manipulate
            this structure.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_DHFILE</code></span></dt>

          <dd>
            <p>Gets/sets the full-path of the file containing the
            parameters for Diffie-Hellman ephemeral key exchange.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.
            Ignored by GnuTLS and Mozilla NSS.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_KEYFILE</code></span></dt>

          <dd>
            <p>Sets/gets the full-path of the certificate key file.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_NEWCTX</code></span></dt>

          <dd>
            <p>Instructs the library to create a new TLS library
            context. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>. A non-zero value
            pointed to by <em class="parameter"><code>invalue</code></em> tells the library
            to create a context for a server.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_PROTOCOL_MIN</code></span></dt>

          <dd>
            <p>Sets/gets the minimum protocol version. <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const int *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>int *</em></span>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_RANDOM_FILE</code></span></dt>

          <dd>
            <p>Sets/gets the random file when <code class="filename">/dev/random</code> and <code class="filename">/dev/urandom</code> are not available.
            <em class="parameter"><code>invalue</code></em> must be
            <span class="type">const char *</span>; <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>char **</em></span>, and its
            contents need to be freed by the caller using <a class="link" href="../htmlman3/ldap_memory.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_memfree</span>(3)</span></a>.
            Ignored by GnuTLS older than version 2.2. Ignored by
            Mozilla NSS.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_REQUIRE_CERT</code></span></dt>

          <dd>
            <p>Sets/gets the peer certificate checking strategy,
            one of <code class="constant">LDAP_OPT_X_TLS_NEVER</code>, <code class="constant">LDAP_OPT_X_TLS_HARD</code>, <code class="constant">LDAP_OPT_X_TLS_DEMAND</code>, <code class="constant">LDAP_OPT_X_TLS_ALLOW</code>, <code class="constant">LDAP_OPT_X_TLS_TRY</code>.</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_OPT_X_TLS_SSL_CTX</code></span></dt>

          <dd>
            <p>Gets the TLS session context associated with this
            handle. <em class="parameter"><code>outvalue</code></em> must be
            <span class="emphasis"><em>void **</em></span>. When
            using the OpenSSL library this is an SSL*. When using
            other crypto libraries this is a pointer to an OpenLDAP
            private structure. Applications generally should not
            use this option.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect6" name="ldap-get-option-3_sect6" shape="rect"> </a>

      <h2>ERRORS</h2>

      <p>On success, the functions return <code class="constant">LDAP_OPT_SUCCESS</code>, while they may return
      <code class="constant">LDAP_OPT_ERROR</code> to indicate a
      generic option handling error. Occasionally, more specific
      errors can be returned, like <span class="errorname">LDAP_NO_MEMORY</span> to indicate a failure in
      memory allocation.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect7" name="ldap-get-option-3_sect7" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>The LDAP libraries with the <code class="constant">LDAP_OPT_REFERRALS</code> option set to
      <code class="constant">LDAP_OPT_ON</code> (default value)
      automatically follow referrals using an anonymous bind.
      Application developers are encouraged to either implement
      consistent referral chasing features, or explicitly disable
      referral chasing by setting that option to <code class="constant">LDAP_OPT_OFF</code>.</p>

      <p>The protocol version used by the library defaults to
      LDAPv2 (now historic), which corresponds to the <code class="constant">LDAP_VERSION2</code> macro. Application developers
      are encouraged to explicitly set <code class="constant">LDAP_OPT_PROTOCOL_VERSION</code> to LDAPv3, using
      the <code class="constant">LDAP_VERSION3</code> macro, or to
      allow users to select the protocol version.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect8" name="ldap-get-option-3_sect8" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/ldap.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap</span>(3)</span></a>, <a class="link" href="../htmlman3/ldap_error.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_error</span>(3)</span></a>, <span class="emphasis"><em>RFC 4422</em></span>
      (http://www.rfc-editor.org),</p>
    </div>

    <div class="refsect1">
      <a id="ldap-get-option-3_sect9" name="ldap-get-option-3_sect9" shape="rect"> </a>

      <h2>ACKNOWLEDGEMENTS</h2>

      <p><span class="emphasis"><em>OpenLDAP Software</em></span>
      is developed and maintained by The OpenLDAP Project
      &lt;<a class="literalurl" href="http://www.openldap.org/" target="_top" shape="rect">http://www.openldap.org/</a>&gt;. <span class="emphasis"><em>OpenLDAP Software</em></span> is derived from
      University of Michigan LDAP 3.3 Release.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                  See the following documents: <a class="ulink" href="../openldap-COPYRIGHT.html" target="_top" shape="rect">COPYRIGHT</a>, <a class="ulink" href="../openldap-LICENSE.html" target="_top" shape="rect">LICENSE</a><br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
