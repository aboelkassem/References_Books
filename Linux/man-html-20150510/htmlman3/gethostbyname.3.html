<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>gethostbyname(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="gethostbyname(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="gethostbyname.3" name="gethostbyname.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>gethostbyname, gethostbyaddr, sethostent, gethostent,
      endhostent, h_errno, herror, hstrerror, gethostbyaddr_r,
      gethostbyname2, gethostbyname2_r, gethostbyname_r,
      gethostent_r — get network host entry</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
#include &lt;netdb.h&gt;
extern int h_errno;
</pre>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">struct hostent
            *<strong>gethostbyname</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">name</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;sys/socket.h&gt;        /* for AF_INET */
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">struct hostent
            *<strong>gethostbyaddr</strong>(</code></td>

            <td rowspan="1" colspan="1">const void *<var class="pdparam">addr</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">socklen_t <var class="pdparam">len</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">type</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">void
            <strong>sethostent</strong>(</code></td>

            <td rowspan="1" colspan="1">int <var class="pdparam">stayopen</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">void
            <strong>endhostent</strong>(</code></td>

            <td rowspan="1" colspan="1"><code>void)</code>;</td>

            <td rowspan="1" colspan="1"> </td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">void
            <strong>herror</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">s</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">const char
            *<strong>hstrerror</strong>(</code></td>

            <td rowspan="1" colspan="1">int <var class="pdparam">err</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
/* System V/POSIX extension */
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">struct hostent
            *<strong>gethostent</strong>(</code></td>

            <td rowspan="1" colspan="1"><code>void)</code>;</td>

            <td rowspan="1" colspan="1"> </td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
/* GNU extensions */
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">struct hostent
            *<strong>gethostbyname2</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">name</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">af</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>gethostent_r</strong>(</code></td>

            <td rowspan="1" colspan="1">struct hostent *<var class="pdparam">ret</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">buf</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">size_t <var class="pdparam">buflen</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent **<var class="pdparam">result</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">h_errnop</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>gethostbyaddr_r</strong>(</code></td>

            <td rowspan="1" colspan="1">const void *<var class="pdparam">addr</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">socklen_t <var class="pdparam">len</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">type</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent *<var class="pdparam">ret</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">buf</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">size_t <var class="pdparam">buflen</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent **<var class="pdparam">result</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">h_errnop</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>gethostbyname_r</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">name</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent *<var class="pdparam">ret</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">buf</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">size_t <var class="pdparam">buflen</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent **<var class="pdparam">result</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">h_errnop</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>gethostbyname2_r</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">name</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">af</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent *<var class="pdparam">ret</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">buf</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">size_t <var class="pdparam">buflen</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct hostent **<var class="pdparam">result</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">h_errnop</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>

            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>

          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">gethostbyname2</code>(),
                      <code class="function">gethostent_r</code>(),
                      <code class="function">gethostbyaddr_r</code>(),
                      <code class="function">gethostbyname_r</code>(),
                      <code class="function">gethostbyname2_r</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_BSD_SOURCE</code> ||
                      <code class="constant">_SVID_SOURCE</code></td>
                    </tr>

                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">herror</code>(), <code class="function">hstrerror</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestver" style="" rowspan="1" colspan="1">Since
                      glibc 2.8:</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_BSD_SOURCE</code> ||
                      <code class="constant">_SVID_SOURCE</code></td>
                    </tr>

                    <tr>
                      <td class="featuretestver" style="" rowspan="1" colspan="1">Before
                      glibc 2.8:</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">none
                      <code class="varname">h_errno</code>:</td>
                    </tr>

                    <tr>
                      <td class="featuretestver" style="" rowspan="1" colspan="1">Since
                      glibc 2.12:</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_BSD_SOURCE</code> ||
                      <code class="constant">_SVID_SOURCE</code> ||
                      (<code class="constant">_POSIX_C_SOURCE</code> &lt;
                      200809L &amp;&amp; <code class="constant">_XOPEN_SOURCE</code> &lt;
                      700)</td>
                    </tr>

                    <tr>
                      <td class="featuretestver" style="" rowspan="1" colspan="1">Before
                      glibc 2.12:</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">none</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect1" name="gethostbyname-3_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">gethostbyname*</code>(),
      <code class="function">gethostbyaddr*</code>(), <code class="function">herror</code>(), and <code class="function">hstrerror</code>() functions are obsolete.
      Applications should use <a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo</span>(3)</span></a>, <a class="link" href="../htmlman3/getnameinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getnameinfo</span>(3)</span></a>, and
      <a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">gai_strerror</span>(3)</span></a>
      instead.</p>

      <p>The <code class="function">gethostbyname</code>() function
      returns a structure of type <span class="structname">hostent</span> for the given host <em class="parameter"><code>name</code></em>. Here <em class="parameter"><code>name</code></em> is either a hostname, or
      an IPv4 address in standard dot notation (as for <a class="link" href="../htmlman3/inet.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_addr</span>(3)</span></a>), or an IPv6
      address in colon (and possibly dot) notation. (See RFC 1884
      for the description of IPv6 addresses.) If <em class="parameter"><code>name</code></em> is an IPv4 or IPv6
      address, no lookup is performed and <code class="function">gethostbyname</code>() simply copies <em class="parameter"><code>name</code></em> into the <em class="parameter"><code>h_name</code></em> field and its
      <span class="emphasis"><em>struct in_addr</em></span>
      equivalent into the <em class="replaceable"><code>h_addr_list[0]</code></em> field of the
      returned <span class="structname">hostent</span> structure.
      If <em class="parameter"><code>name</code></em> doesn't end
      in a dot and the environment variable <code class="constant">HOSTALIASES</code> is set, the alias file pointed
      to by <code class="constant">HOSTALIASES</code> will first be
      searched for <em class="parameter"><code>name</code></em>
      (see <a class="link" href="../htmlman7/hostname.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">hostname</span>(7)</span></a> for the file
      format). The current domain and its parents are searched
      unless <em class="parameter"><code>name</code></em> ends in a
      dot.</p>

      <p>The <code class="function">gethostbyaddr</code>() function
      returns a structure of type <span class="structname">hostent</span> for the given host address
      <em class="parameter"><code>addr</code></em> of length
      <em class="parameter"><code>len</code></em> and address type
      <em class="parameter"><code>type</code></em>. Valid address
      types are <code class="constant">AF_INET</code> and
      <code class="constant">AF_INET6</code>. The host address
      argument is a pointer to a struct of a type depending on the
      address type, for example a <span class="type">struct in_addr
      *</span> (probably obtained via a call to <a class="link" href="../htmlman3/inet.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_addr</span>(3)</span></a>) for address
      type <code class="constant">AF_INET</code>.</p>

      <p>The <code class="function">sethostent</code>() function
      specifies, if <em class="parameter"><code>stayopen</code></em> is true (1), that a
      connected TCP socket should be used for the name server
      queries and that the connection should remain open during
      successive queries. Otherwise, name server queries will use
      UDP datagrams.</p>

      <p>The <code class="function">endhostent</code>() function
      ends the use of a TCP connection for name server queries.</p>

      <p>The (obsolete) <code class="function">herror</code>()
      function prints the error message associated with the current
      value of <code class="varname">h_errno</code> on <code class="varname">stderr</code>.</p>

      <p>The (obsolete) <code class="function">hstrerror</code>()
      function takes an error number (typically <code class="varname">h_errno</code>) and returns the corresponding
      message string.</p>

      <p>The domain name queries carried out by <code class="function">gethostbyname</code>() and <code class="function">gethostbyaddr</code>() rely on the Name Service
      Switch (<em class="replaceable"><code>nsswitch.conf</code></em>(5)) configured
      sources or a local name server (<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>). The default action
      is to query the Name Service Switch (<em class="replaceable"><code>nsswitch.conf(5))</code></em> configured
      sources, failing that, a local name server (<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>).</p>

      <div class="refsect2">
        <a id="gethostbyname-3_sect2" name="gethostbyname-3_sect2" shape="rect"> </a>

        <h3>Historical</h3>

        <p>The <a class="link" href="../htmlman5/nsswitch.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">nsswitch.conf</span>(5)</span></a> file is
        the modern way of controlling the order of host
        lookups.</p>

        <p>In glibc 2.4 and earlier, the <code class="literal">order</code> keyword was used to control the
        order of host lookups as defined in <code class="filename">/etc/host.conf</code> (<em class="replaceable"><code>host.conf</code></em>(5)).</p>

        <p>The <span class="structname">hostent</span> structure is
        defined in <code class="literal">&lt;</code><code class="filename">netdb.h</code><code class="literal">&gt;</code>
        as follows:</p>

        <div class="blockquote">
          <blockquote class="blockquote">
            <div class="informalexample">
              <pre class="programlisting" xml:space="preserve">
struct hostent {
    char  *h_name;            /* official name of host */
    char **h_aliases;         /* alias list */
    int    h_addrtype;        /* host address type */
    int    h_length;          /* length of address */
    char **h_addr_list;       /* list of addresses */
}
#define h_addr h_addr_list[0] /* for backward compatibility */
</pre>
            </div>
          </blockquote>
        </div>

        <p>The members of the <span class="structname">hostent</span> structure are:</p>

        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><em class="parameter"><code>h_name</code></em></span></dt>

            <dd>
              <p>The official name of the host.</p>
            </dd>

            <dt><span class="term"><em class="parameter"><code>h_aliases</code></em></span></dt>

            <dd>
              <p>An array of alternative names for the host,
              terminated by a null pointer.</p>
            </dd>

            <dt><span class="term"><em class="parameter"><code>h_addrtype</code></em></span></dt>

            <dd>
              <p>The type of address; always <code class="constant">AF_INET</code> or <code class="constant">AF_INET6</code> at present.</p>
            </dd>

            <dt><span class="term"><em class="parameter"><code>h_length</code></em></span></dt>

            <dd>
              <p>The length of the address in bytes.</p>
            </dd>

            <dt><span class="term"><em class="parameter"><code>h_addr_list</code></em></span></dt>

            <dd>
              <p>An array of pointers to network addresses for the
              host (in network byte order), terminated by a null
              pointer.</p>
            </dd>

            <dt><span class="term"><em class="parameter"><code>h_addr</code></em></span></dt>

            <dd>
              <p>The first address in <em class="parameter"><code>h_addr_list</code></em> for
              backward compatibility.</p>
            </dd>
          </dl>
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect3" name="gethostbyname-3_sect3" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p>The <code class="function">gethostbyname</code>() and
      <code class="function">gethostbyaddr</code>() functions
      return the <span class="structname">hostent</span> structure
      or a null pointer if an error occurs. On error, the
      <code class="varname">h_errno</code> variable holds an error
      number. When non-NULL, the return value may point at static
      data, see the notes below.</p>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect4" name="gethostbyname-3_sect4" shape="rect"> </a>

      <h2>ERRORS</h2>

      <p>The variable <code class="varname">h_errno</code> can have
      the following values:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">HOST_NOT_FOUND</code></span></dt>

          <dd>
            <p>The specified host is unknown.</p>
          </dd>

          <dt><span class="term"><code class="constant">NO_DATA</code></span></dt>

          <dd>
            <p>The requested name is valid but does not have an IP
            address. Another type of request to the name server for
            this domain may return an answer. The constant
            <code class="constant">NO_ADDRESS</code> is a synonym
            for <code class="constant">NO_DATA</code>.</p>
          </dd>

          <dt><span class="term"><code class="constant">NO_RECOVERY</code></span></dt>

          <dd>
            <p>A nonrecoverable name server error occurred.</p>
          </dd>

          <dt><span class="term"><code class="constant">TRY_AGAIN</code></span></dt>

          <dd>
            <p>A temporary error occurred on an authoritative name
            server. Try again later.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect5" name="gethostbyname-3_sect5" shape="rect"> </a>

      <h2>FILES</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="filename">/etc/host.conf</code></span></dt>

          <dd>
            <p>resolver configuration file</p>
          </dd>

          <dt><span class="term"><code class="filename">/etc/hosts</code></span></dt>

          <dd>
            <p>host database file</p>
          </dd>

          <dt><span class="term"><code class="filename">/etc/nsswitch.conf</code></span></dt>

          <dd>
            <p>name service switch configuration</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect6" name="gethostbyname-3_sect6" shape="rect"> </a>

      <h2>ATTRIBUTES</h2>

      <p>For an explanation of the terms used in this section, see
      <a class="link" href="../htmlman7/attributes.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">attributes</span>(7)</span></a>.</p>

      <div class="informaltable">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col class="c0" span="1" />
            <col class="c1" span="1" />
            <col class="c2" span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" align="left" rowspan="1" colspan="1">Interface</td>

              <td style="" align="left" rowspan="1" colspan="1">Attribute</td>

              <td style="" align="left" rowspan="1" colspan="1">Value</td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">gethostbyname</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">
                <p>MT-Unsafe race:hostbyname env</p>

                <p>locale</p>
              </td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">gethostbyaddr</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">
                <p>MT-Unsafe race:hostbyaddr env</p>

                <p>locale</p>
              </td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">sethostent</code>(),<span style="color: red">&lt;br&gt;&lt;/br&gt;</span><code class="literal">endhostent</code>(),<span style="color: red">&lt;br&gt;&lt;/br&gt;</span>
              <code class="literal">gethostent_r</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">
                <p>MT-Unsafe race:hostent env</p>

                <p>locale</p>
              </td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1">
                <p><code class="literal">herror</code>(),</p>

                <p><code class="literal">hstrerror</code>()</p>
              </td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">MT-Safe</td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">gethostent</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">
                <p>MT-Unsafe race:hostent</p>

                <p>race:hostentbuf env locale</p>
              </td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">gethostbyname2</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">
                <p>MT-Unsafe race:hostbyname2</p>

                <p>env locale</p>
              </td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1"><code class="literal">gethostbyaddr_r</code>(), <code class="literal">gethostbyname_r</code>(), <code class="literal">gethostbyname2_r</code>()</td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">MT-Safe env locale</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p>In the above table, <span class="structname">hostent</span> in <em class="replaceable"><code>race:hostent</code></em> signifies that
      if any of the functions <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sethostent</span>(3)</span></a>, <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">gethostent</span>(3)</span></a>, <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">gethostent_r</span>(3)</span></a>, or
      <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">endhostent</span>(3)</span></a> are used in
      parallel in different threads of a program, then data races
      could occur.</p>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect7" name="gethostbyname-3_sect7" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>POSIX.1-2001 specifies <code class="function">gethostbyname</code>(), <code class="function">gethostbyaddr</code>(), <code class="function">sethostent</code>(), <code class="function">endhostent</code>(), <code class="function">gethostent</code>(), and <code class="varname">h_errno</code>; <code class="function">gethostbyname</code>(), <code class="function">gethostbyaddr</code>(), and <code class="varname">h_errno</code> are marked obsolescent in that
      standard. POSIX.1-2008 removes the specifications of
      <code class="function">gethostbyname</code>(), <code class="function">gethostbyaddr</code>(), and <code class="varname">h_errno</code>, recommending the use of <a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo</span>(3)</span></a> and
      <a class="link" href="../htmlman3/getnameinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getnameinfo</span>(3)</span></a> instead.</p>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect8" name="gethostbyname-3_sect8" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>The functions <code class="function">gethostbyname</code>() and <code class="function">gethostbyaddr</code>() may return pointers to
      static data, which may be overwritten by later calls. Copying
      the <span class="emphasis"><em>struct hostent</em></span>
      does not suffice, since it contains pointers; a deep copy is
      required.</p>

      <p>In the original BSD implementation the <em class="parameter"><code>len</code></em> argument of <code class="function">gethostbyname</code>() was an <span class="type">int</span>. The SUSv2 standard is buggy and declares
      the <em class="parameter"><code>len</code></em> argument of
      <code class="function">gethostbyaddr</code>() to be of type
      <span class="type">size_t</span>. (That is wrong, because it
      has to be <span class="type">int</span>, and <span class="type">size_t</span> is not. POSIX.1-2001 makes it
      <span class="type">socklen_t</span>, which is OK.) See also
      <a class="link" href="../htmlman2/accept.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">accept</span>(2)</span></a>.</p>

      <p>The BSD prototype for <code class="function">gethostbyaddr</code>() uses <span class="type">const char *</span> for the first argument.</p>

      <div class="refsect2">
        <a id="gethostbyname-3_sect9" name="gethostbyname-3_sect9" shape="rect"> </a>

        <h3>System V/POSIX extension</h3>

        <p>POSIX requires the <code class="function">gethostent</code>() call, that should return the
        next entry in the host data base. When using DNS/BIND this
        does not make much sense, but it may be reasonable if the
        host data base is a file that can be read line by line. On
        many systems a routine of this name reads from the file
        <code class="filename">/etc/hosts</code>. It may be
        available only when the library was built without DNS
        support. The glibc version will ignore ipv6 entries. This
        function is not reentrant, and glibc adds a reentrant
        version <code class="function">gethostent_r</code>().</p>
      </div>

      <div class="refsect2">
        <a id="gethostbyname-3_sect10" name="gethostbyname-3_sect10" shape="rect"> </a>

        <h3>GNU extensions</h3>

        <p>Glibc2 also has a <code class="function">gethostbyname2</code>() that works like
        <code class="function">gethostbyname</code>(), but permits
        to specify the address family to which the address must
        belong.</p>

        <p>Glibc2 also has reentrant versions <code class="function">gethostent_r</code>(), <code class="function">gethostbyaddr_r</code>(), <code class="function">gethostbyname_r</code>() and <code class="function">gethostbyname2_r</code>(). The caller supplies a
        <span class="structname">hostent</span> structure
        <em class="parameter"><code>ret</code></em> which will be
        filled in on success, and a temporary work buffer
        <em class="parameter"><code>buf</code></em> of size
        <em class="parameter"><code>buflen</code></em>. After the
        call, <em class="parameter"><code>result</code></em> will
        point to the result on success. In case of an error or if
        no entry is found <em class="parameter"><code>result</code></em> will be NULL. The
        functions return 0 on success and a nonzero error number on
        failure. In addition to the errors returned by the
        nonreentrant versions of these functions, if <em class="parameter"><code>buf</code></em> is too small, the
        functions will return <span class="errorname">ERANGE</span>, and the call should be retried
        with a larger buffer. The global variable <code class="varname">h_errno</code> is not modified, but the address
        of a variable in which to store error numbers is passed in
        <em class="parameter"><code>h_errnop</code></em>.</p>
      </div>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect11" name="gethostbyname-3_sect11" shape="rect"> </a>

      <h2>BUGS</h2>

      <p><code class="function">gethostbyname</code>() does not
      recognize components of a dotted IPv4 address string that are
      expressed in hexadecimal.</p>
    </div>

    <div class="refsect1">
      <a id="gethostbyname-3_sect12" name="gethostbyname-3_sect12" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo</span>(3)</span></a>, <a class="link" href="../htmlman3/getnameinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getnameinfo</span>(3)</span></a>, <a class="link" href="../htmlman3/inet.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet</span>(3)</span></a>, <a class="link" href="../htmlman3/inet_ntop.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_ntop</span>(3)</span></a>, <a class="link" href="../htmlman3/inet_pton.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_pton</span>(3)</span></a>, <a class="link" href="../htmlman3/resolver.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">resolver</span>(3)</span></a>, <a class="link" href="../htmlman5/hosts.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a>, <a class="link" href="../htmlman5/nsswitch.conf.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">nsswitch.conf</span>(5)</span></a>, <a class="link" href="../htmlman7/hostname.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">hostname</span>(7)</span></a>, <span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></p>
    </div>

    <div class="colophon">
      <a id="gethostbyname-3_sect13" name="gethostbyname-3_sect13" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 4.00 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man−pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright 1993 David Metcalfe (david<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>prism.demon.co.uk)<br />

                  <br />
                  %%%LICENSE_START(VERBATIM)<br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  %%%LICENSE_END<br />
                  <br />
                  References consulted:<br />
                      Linux libc source code<br />

                      Lewine's _POSIX Programmer's Guide_ (O'Reilly &amp; Associates, 1991)<br />

                      386BSD man pages<br />

                  Modified 1993-05-22, David Metcalfe<br />

                  Modified 1993-07-25, Rik Faith (faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu)<br />

                  Modified 1997-02-16, Andries Brouwer (aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl)<br />

                  Modified 1998-12-21, Andries Brouwer (aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl)<br />

                  Modified 2000-08-12, Andries Brouwer (aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl)<br />

                  Modified 2001-05-19, Andries Brouwer (aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl)<br />

                  Modified 2002-08-05, Michael Kerrisk<br />

                  Modified 2004-10-31, Andries Brouwer<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
