<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>misc_conv(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="misc_conv(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="misc-conv.3" name="misc-conv.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <a id="misc_conv-name" name="misc_conv-name" shape="rect"> </a>

      <h2>Name</h2>

      <p>misc_conv — text based conversation function</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <a id="misc_conv-synopsis" name="misc_conv-synopsis" shape="rect"> </a>
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;security/pam_misc.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>misc_conv</strong>(</code></td>

            <td rowspan="1" colspan="1">int <var class="pdparam">num_msg</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const struct pam_message **<var class="pdparam">msgm</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct pam_response **<var class="pdparam">response</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">appdata_ptr</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="misc_conv-description" name="misc_conv-description" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">misc_conv</code> function is
      part of <span class="command"><strong>libpam_misc</strong></span> and not of the
      standard <span class="command"><strong>libpam</strong></span>
      library. This function will prompt the user with the
      appropriate comments and obtain the appropriate inputs as
      directed by authentication modules.</p>

      <p>In addition to simply slotting into the appropriate
      <a class="link" href="../htmlman3/pam_conv.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_conv</span>(3)</span></a>, this function
      provides some time-out facilities. The function exports five
      variables that can be used by an application programmer to
      limit the amount of time this conversation function will
      spend waiting for the user to type something. The five
      variabls are as follows:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="type">time_t</span>
          <code class="varname">pam_misc_conv_warn_time</code>;</span></dt>

          <dd>
            <p>This variable contains the <span class="emphasis"><em>time</em></span> (as returned by
            <a class="link" href="../htmlman2/time.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">time</span>(2)</span></a>) that the
            user should be first warned that the clock is ticking.
            By default it has the value <span class="returnvalue">0</span>, which indicates that no such
            warning will be given. The application may set its
            value to sometime in the future, but this should be
            done prior to passing control to the <span class="emphasis"><em>Linux-PAM</em></span> library.</p>
          </dd>

          <dt><span class="term"><span class="type">const char
          *</span><code class="varname">pam_misc_conv_warn_line</code>;</span></dt>

          <dd>
            <p>Used in conjuction with <code class="varname">pam_misc_conv_warn_time</code>, this variable
            is a pointer to the string that will be displayed when
            it becomes time to warn the user that the timeout is
            approaching. Its default value is a translated version
            of <span class="quote">“<span class="quote">...Time is running out...</span>”</span>,
            but this can be changed by the application prior to
            passing control to <span class="emphasis"><em>Linux-PAM</em></span>.</p>
          </dd>

          <dt><span class="term"><span class="type">time_t</span>
          <code class="varname">pam_misc_conv_die_time</code>;</span></dt>

          <dd>
            <p>This variable contains the <span class="emphasis"><em>time</em></span> (as returned by
            <a class="link" href="../htmlman2/time.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">time</span>(2)</span></a>) that the
            will time out. By default it has the value <span class="returnvalue">0</span>, which indicates that the
            conversation function will not timeout. The application
            may set its value to sometime in the future, but this
            should be done prior to passing control to the
            <span class="emphasis"><em>Linux-PAM</em></span>
            library.</p>
          </dd>

          <dt><span class="term"><span class="type">const char
          *</span><code class="varname">pam_misc_conv_die_line</code>;</span></dt>

          <dd>
            <p>Used in conjuction with <code class="varname">pam_misc_conv_die_time</code>, this variable
            is a pointer to the string that will be displayed when
            the conversation times out. Its default value is a
            translated version of <span class="quote">“<span class="quote">...Sorry, your time
            is up!</span>”</span>, but this can be changed by
            the application prior to passing control to
            <span class="emphasis"><em>Linux-PAM</em></span>.</p>
          </dd>

          <dt><span class="term"><span class="type">int</span>
          <code class="varname">pam_misc_conv_died</code>;</span></dt>

          <dd>
            <p>Following a return from the <span class="emphasis"><em>Linux-PAM</em></span> libraray, the
            value of this variable indicates whether the
            conversation has timed out. A value of <span class="returnvalue">1</span> indicates the time-out
            occurred.</p>
          </dd>
        </dl>
      </div>

      <p>The following two function pointers are available for
      supporting binary prompts in the conversation function. They
      are optimized for the current incarnation of the <span class="command"><strong>libpamc</strong></span> library and are
      subject to change.</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="type">int</span>
          <code class="varname">(*pam_binary_handler_fn)</code>(<span class="type">void *</span><code class="varname">appdata</code>,
          <span class="type">pamc_bp_t *</span><code class="varname">prompt_p</code>);</span></dt>

          <dd>
            <p>This function pointer is initialized to <span class="returnvalue">NULL</span> but can be filled with a
            function that provides machine-machine (hidden) message
            exchange. It is intended for use with hidden
            authentication protocols such as RSA or Diffie-Hellman
            key exchanges. (This is still under development.)</p>
          </dd>

          <dt><span class="term"><span class="type">int</span>
          <code class="varname">(*pam_binary_handler_free)</code>(<span class="type">void *</span><code class="varname">appdata</code>,
          <span class="type">pamc_bp_t *</span><code class="varname">delete_me</code>);</span></dt>

          <dd>
            <p>This function pointer is initialized to <code class="function">PAM_BP_RENEW(delete_me, 0, 0)</code>, but
            can be redefined as desired by the application.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="misc_conv-see_also" name="misc_conv-see_also" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/pam_conv.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_conv</span>(3)</span></a>, <a class="link" href="../htmlman8/pam.8.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam</span>(8)</span></a></p>
    </div>

    <div class="refsect1">
      <a id="misc_conv-standards" name="misc_conv-standards" shape="rect"> </a>

      <h2>STANDARDS</h2>

      <p>The <code class="function">misc_conv</code> function is
      part of the <span class="command"><strong>libpam_misc</strong></span> Library and not
      defined in any standard.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  See <a class="ulink" href="../linuxpam-copyright.html" target="_top" shape="rect">Linux-PAM copyright notice</a> for more information.
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
