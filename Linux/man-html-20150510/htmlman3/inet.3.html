<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>inet(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="inet(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="inet.3" name="inet.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>inet_aton, inet_addr, inet_network, inet_ntoa,
      inet_makeaddr, inet_lnaof, inet_netof — Internet
      address manipulation routines</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
</pre>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>inet_aton</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">cp</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct in_addr *<var class="pdparam">inp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">in_addr_t
            <strong>inet_addr</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">cp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">in_addr_t
            <strong>inet_network</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">cp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">char
            *<strong>inet_ntoa</strong>(</code></td>

            <td rowspan="1" colspan="1">struct in_addr <var class="pdparam">in</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">struct in_addr
            <strong>inet_makeaddr</strong>(</code></td>

            <td rowspan="1" colspan="1">in_addr_t <var class="pdparam">net</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">in_addr_t <var class="pdparam">host</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">in_addr_t
            <strong>inet_lnaof</strong>(</code></td>

            <td rowspan="1" colspan="1">struct in_addr <var class="pdparam">in</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">in_addr_t
            <strong>inet_netof</strong>(</code></td>

            <td rowspan="1" colspan="1">struct in_addr <var class="pdparam">in</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>

            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>

          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">inet_aton</code>(), <code class="function">inet_ntoa</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_BSD_SOURCE</code> ||
                      <code class="constant">_SVID_SOURCE</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect1" name="inet-3_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><code class="function">inet_aton</code>() converts the
      Internet host address <em class="parameter"><code>cp</code></em> from the IPv4
      numbers-and-dots notation into binary form (in network byte
      order) and stores it in the structure that <em class="parameter"><code>inp</code></em> points to. <code class="function">inet_aton</code>() returns nonzero if the address
      is valid, zero if not. The address supplied in <em class="parameter"><code>cp</code></em> can have one of the
      following forms:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><em class="replaceable"><code>a.b.c.d</code></em></span></dt>

          <dd>
            <p>Each of the four numeric parts specifies a byte of
            the address; the bytes are assigned in left-to-right
            order to produce the binary address.</p>
          </dd>

          <dt><span class="term"><code class="filename">a.b.c</code></span></dt>

          <dd>
            <p>Parts <code class="literal">a</code> and
            <code class="literal">b</code> specify the first two
            bytes of the binary address. Part <code class="literal">c</code> is interpreted as a 16-bit value
            that defines the rightmost two bytes of the binary
            address. This notation is suitable for specifying
            (outmoded) Class B network addresses.</p>
          </dd>

          <dt><span class="term"><em class="replaceable"><code>a.b</code></em></span></dt>

          <dd>
            <p>Part <code class="literal">a</code> specifies the
            first byte of the binary address. Part <code class="literal">b</code> is interpreted as a 24-bit value
            that defines the rightmost three bytes of the binary
            address. This notation is suitable for specifying
            (outmoded) Class A network addresses.</p>
          </dd>

          <dt><span class="term"><code class="literal">a</code></span></dt>

          <dd>
            <p>The value <code class="literal">a</code> is
            interpreted as a 32-bit value that is stored directly
            into the binary address without any byte
            rearrangement.</p>
          </dd>
        </dl>
      </div>

      <p>In all of the above forms, components of the dotted
      address can be specified in decimal, octal (with a leading
      <code class="constant">0</code>), or hexadecimal, with a
      leading <code class="constant">0X</code>). Addresses in any
      of these forms are collectively termed <span class="emphasis"><em>IPV4 numbers-and-dots notation</em></span>.
      The form that uses exactly four decimal numbers is referred
      to as <span class="emphasis"><em>IPv4 dotted-decimal
      notation</em></span> (or sometimes: <span class="emphasis"><em>IPv4 dotted-quad notation</em></span>).</p>

      <p><code class="function">inet_aton</code>() returns 1 if the
      supplied string was successfully interpreted, or 0 if the
      string is invalid (<code class="varname">errno</code> is
      <span class="emphasis"><em>not</em></span> set on error).</p>

      <p>The <code class="function">inet_addr</code>() function
      converts the Internet host address <em class="parameter"><code>cp</code></em> from IPv4 numbers-and-dots
      notation into binary data in network byte order. If the input
      is invalid, <code class="constant">INADDR_NONE</code>
      (usually −1) is returned. Use of this function is
      problematic because −1 is a valid address
      (255.255.255.255). Avoid its use in favor of <code class="function">inet_aton</code>(), <a class="link" href="../htmlman3/inet_pton.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_pton</span>(3)</span></a>, or <a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo</span>(3)</span></a>, which
      provide a cleaner way to indicate error return.</p>

      <p>The <code class="function">inet_network</code>() function
      converts <em class="parameter"><code>cp</code></em>, a string
      in IPv4 numbers-and-dots notation, into a number in host byte
      order suitable for use as an Internet network address. On
      success, the converted address is returned. If the input is
      invalid, −1 is returned.</p>

      <p>The <code class="function">inet_ntoa</code>() function
      converts the Internet host address <em class="parameter"><code>in</code></em>, given in network byte
      order, to a string in IPv4 dotted-decimal notation. The
      string is returned in a statically allocated buffer, which
      subsequent calls will overwrite.</p>

      <p>The <code class="function">inet_lnaof</code>() function
      returns the local network address part of the Internet
      address <em class="parameter"><code>in</code></em>. The
      returned value is in host byte order.</p>

      <p>The <code class="function">inet_netof</code>() function
      returns the network number part of the Internet address
      <em class="parameter"><code>in</code></em>. The returned
      value is in host byte order.</p>

      <p>The <code class="function">inet_makeaddr</code>() function
      is the converse of <code class="function">inet_netof</code>()
      and <code class="function">inet_lnaof</code>(). It returns an
      Internet host address in network byte order, created by
      combining the network number <em class="parameter"><code>net</code></em> with the local address
      <em class="parameter"><code>host</code></em>, both in host
      byte order.</p>

      <p>The structure <span class="structname">in_addr</span> as
      used in <code class="function">inet_ntoa</code>(),
      <code class="function">inet_makeaddr</code>(), <code class="function">inet_lnaof</code>() and <code class="function">inet_netof</code>() is defined in <code class="literal">&lt;</code><code class="filename">netinet/in.h</code><code class="literal">&gt;</code> as:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
typedef uint32_t in_addr_t;

struct in_addr {
    in_addr_t s_addr;
};
</pre>
          </div>
        </blockquote>
      </div>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect2" name="inet-3_sect2" shape="rect"> </a>

      <h2>ATTRIBUTES</h2>

      <p>For an explanation of the terms used in this section, see
      <a class="link" href="../htmlman7/attributes.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">attributes</span>(7)</span></a>.</p>

      <div class="informaltable">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col class="c0" span="1" />
            <col class="c1" span="1" />
            <col class="c2" span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" align="left" rowspan="1" colspan="1">Interface</td>

              <td style="" align="left" rowspan="1" colspan="1">Attribute</td>

              <td style="" align="left" rowspan="1" colspan="1">Value</td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1">
                <p><code class="literal">inet_aton</code>(),
                <code class="literal">inet_addr</code>(),</p>

                <p><code class="literal">inet_network</code>(),
                <code class="literal">inet_ntoa</code>()</p>
              </td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">MT-Safe locale</td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1">
                <p><code class="literal">inet_makeaddr</code>(),
                <code class="literal">inet_lnaof</code>(),</p>

                <p><code class="literal">inet_netof</code>()</p>
              </td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">MT-Safe</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect3" name="inet-3_sect3" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>4.3BSD. <code class="function">inet_addr</code>() and
      <code class="function">inet_ntoa</code>() are specified in
      POSIX.1-2001. <code class="function">inet_aton</code>() is
      not specified in POSIX.1-2001, but is available on most
      systems.</p>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect4" name="inet-3_sect4" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>On the i386 the host byte order is Least Significant Byte
      first (little endian), whereas the network byte order, as
      used on the Internet, is Most Significant Byte first (big
      endian).</p>

      <p><code class="function">inet_lnaof</code>(), <code class="function">inet_netof</code>(), and <code class="function">inet_makeaddr</code>() are legacy functions that
      assume they are dealing with <span class="emphasis"><em>classful network addresses</em></span>.
      Classful networking divides IPv4 network addresses into host
      and network components at byte boundaries, as follows:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term">Class A</span></dt>

          <dd>
            <p>This address type is indicated by the value 0 in the
            most significant bit of the (network byte ordered)
            address. The network address is contained in the most
            significant byte, and the host address occupies the
            remaining three bytes.</p>
          </dd>

          <dt><span class="term">Class B</span></dt>

          <dd>
            <p>This address type is indicated by the binary value
            10 in the most significant two bits of the address. The
            network address is contained in the two most
            significant bytes, and the host address occupies the
            remaining two bytes.</p>
          </dd>

          <dt><span class="term">Class C</span></dt>

          <dd>
            <p>This address type is indicated by the binary value
            110 in the most significant three bits of the address.
            The network address is contained in the three most
            significant bytes, and the host address occupies the
            remaining byte.</p>
          </dd>
        </dl>
      </div>

      <p>Classful network addresses are now obsolete, having been
      superseded by Classless Inter-Domain Routing (CIDR), which
      divides addresses into network and host components at
      arbitrary bit (rather than byte) boundaries.</p>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect5" name="inet-3_sect5" shape="rect"> </a>

      <h2>EXAMPLE</h2>

      <p>An example of the use of <code class="function">inet_aton</code>() and <code class="function">inet_ntoa</code>() is shown below. Here are some
      example runs:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
$<span class="emphasis"><em> ./a.out 226.000.000.037</em></span>      # Last byte is in octal
226.0.0.31
$<span class="emphasis"><em> ./a.out 0x7f.1</em></span>      # First byte is in hex
127.0.0.1
</pre>
          </div>
        </blockquote>
      </div>

      <div class="refsect2">
        <a id="inet-3_sect6" name="inet-3_sect6" shape="rect"> </a>

        <h3>Program source</h3>

        <div class="informalexample">
          <pre class="programlisting" xml:space="preserve">
#define _BSD_SOURCE
#include &lt;arpa/inet.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int
main(int argc, char *argv[])
{
    struct in_addr addr;

    if (argc != 2) {
        fprintf(stderr, "%s &lt;dotted−address&gt;\n", argv[0]);
        exit(EXIT_FAILURE);
    }

    if (inet_aton(argv[1], &amp;addr) == 0) {
        fprintf(stderr, "Invalid address\n");
        exit(EXIT_FAILURE);
    }

    printf("%s\n", inet_ntoa(addr));
    exit(EXIT_SUCCESS);
}
</pre>
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="inet-3_sect7" name="inet-3_sect7" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/byteorder.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">byteorder</span>(3)</span></a>, <a class="link" href="../htmlman3/getaddrinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo</span>(3)</span></a>, <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">gethostbyname</span>(3)</span></a>, <a class="link" href="../htmlman3/getnameinfo.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getnameinfo</span>(3)</span></a>, <a class="link" href="../htmlman3/getnetent.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getnetent</span>(3)</span></a>, <a class="link" href="../htmlman3/inet_net_pton.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_net_pton</span>(3)</span></a>, <a class="link" href="../htmlman3/inet_ntop.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_ntop</span>(3)</span></a>, <a class="link" href="../htmlman3/inet_pton.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">inet_pton</span>(3)</span></a>, <a class="link" href="../htmlman5/hosts.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a>, <a class="link" href="../htmlman5/networks.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">networks</span>(5)</span></a></p>
    </div>

    <div class="colophon">
      <a id="inet-3_sect8" name="inet-3_sect8" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 4.00 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man−pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright 1993 David Metcalfe (david<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>prism.demon.co.uk)<br />

                  and Copyright (c) 2008 Linux Foundation, written by Michael Kerrisk<br />

                      &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  <br />
                  %%%LICENSE_START(VERBATIM)<br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  %%%LICENSE_END<br />
                  <br />
                  References consulted:<br />
                      Linux libc source code<br />

                      Lewine's _POSIX Programmer's Guide_ (O'Reilly &amp; Associates, 1991)<br />

                      386BSD man pages<br />

                      libc.info (from glibc distribution)<br />

                  Modified Sat Jul 24 19:12:00 1993 by Rik Faith &lt;faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu&gt;<br />

                  Modified Sun Sep  3 20:29:36 1995 by Jim Van Zandt &lt;jrv<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>vanzandt.mv.com&gt;<br />

                  Changed network into host byte order (for inet_network),<br />

                      Andreas Jaeger &lt;aj<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>arthur.rhein-neckar.de&gt;, 980130.<br />

                  2008-06-19, mtk<br />
                      Describe the various address forms supported by inet_aton().<br />

                      Clarify discussion of inet_lnaof(), inet_netof(), and inet_makeaddr().<br />

                      Add discussion of Classful Addressing, noting that it is obsolete.<br />

                      Added an EXAMPLE program.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
