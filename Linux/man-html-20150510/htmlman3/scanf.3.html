<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>scanf(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="scanf(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="scanf.3" name="scanf.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>scanf, fscanf, sscanf, vscanf, vsscanf, vfscanf —
      input format conversion</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;stdio.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>scanf</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1"><var class="pdparam">...</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>fscanf</strong>(</code></td>

            <td rowspan="1" colspan="1">FILE *<var class="pdparam">stream</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1"><var class="pdparam">...</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>sscanf</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">str</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1"><var class="pdparam">...</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;stdarg.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>vscanf</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">va_list <var class="pdparam">ap</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>vsscanf</strong>(</code></td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">str</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">va_list <var class="pdparam">ap</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>vfscanf</strong>(</code></td>

            <td rowspan="1" colspan="1">FILE *<var class="pdparam">stream</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">format</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">va_list <var class="pdparam">ap</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>

            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>

          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">vscanf</code>(), <code class="function">vsscanf</code>(), <code class="function">vfscanf</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_XOPEN_SOURCE</code>
                      &gt;= 600 || <code class="constant">_ISOC99_SOURCE</code> ||
                      <code class="constant">_POSIX_C_SOURCE</code>
                      &gt;= 200112L;</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">or
                      <span class="command"><strong>cc</strong></span>
                      <code class="option">-std=c99</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect1" name="scanf-3_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">scanf</code>() family of
      functions scans input according to <em class="parameter"><code>format</code></em> as described below. This
      format may contain <span class="emphasis"><em>conversion
      specifications</em></span>; the results from such
      conversions, if any, are stored in the locations pointed to
      by the <em class="parameter"><code>pointer</code></em>
      arguments that follow <em class="parameter"><code>format</code></em>. Each <em class="parameter"><code>pointer</code></em> argument must be of a
      type that is appropriate for the value returned by the
      corresponding conversion specification.</p>

      <p>If the number of conversion specifications in <em class="parameter"><code>format</code></em> exceeds the number of
      <em class="parameter"><code>pointer</code></em> arguments,
      the results are undefined. If the number of <em class="parameter"><code>pointer</code></em> arguments exceeds the
      number of conversion specifications, then the excess
      <em class="parameter"><code>pointer</code></em> arguments are
      evaluated, but are otherwise ignored.</p>

      <p>The <code class="function">scanf</code>() function reads
      input from the standard input stream <code class="varname">stdin</code>, <code class="function">fscanf</code>() reads input from the stream
      pointer <em class="parameter"><code>stream</code></em>, and
      <code class="function">sscanf</code>() reads its input from
      the character string pointed to by <em class="parameter"><code>str</code></em>.</p>

      <p>The <code class="function">vfscanf</code>() function is
      analogous to <a class="link" href="../htmlman3/printf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">vfprintf</span>(3)</span></a> and reads input
      from the stream pointer <em class="parameter"><code>stream</code></em> using a variable
      argument list of pointers (see <a class="link" href="../htmlman3/stdarg.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">stdarg</span>(3)</span></a>. The <code class="function">vscanf</code>() function scans a variable argument
      list from the standard input and the <code class="function">vsscanf</code>() function scans it from a string;
      these are analogous to the <a class="link" href="../htmlman3/printf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">vprintf</span>(3)</span></a> and <a class="link" href="../htmlman3/printf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">vsprintf</span>(3)</span></a> functions
      respectively.</p>

      <p>The <em class="parameter"><code>format</code></em> string
      consists of a sequence of <span class="quote">“<span class="quote">directives</span>”</span> which describe how to
      process the sequence of input characters. If processing of a
      directive fails, no further input is read, and <code class="function">scanf</code>() returns. A "failure" can be either
      of the following: <span class="emphasis"><em>input
      failure</em></span>, meaning that input characters were
      unavailable, or <span class="emphasis"><em>matching
      failure</em></span>, meaning that the input was inappropriate
      (see below).</p>

      <p>A directive is one of the following:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc;">
          <li class="listitem">
            <p>A sequence of white-space characters (space, tab,
            newline, etc.; see <a class="link" href="../htmlman3/isalpha.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">isspace</span>(3)</span></a>). This
            directive matches any amount of white space, including
            none, in the input.</p>
          </li>

          <li class="listitem">
            <p>An ordinary character (i.e., one other than white
            space or '%'). This character must exactly match the
            next character of input.</p>
          </li>

          <li class="listitem">
            <p>A conversion specification, which commences with a
            '%' (percent) character. A sequence of characters from
            the input is converted according to this specification,
            and the result is placed in the corresponding
            <em class="parameter"><code>pointer</code></em>
            argument. If the next item of input does not match the
            conversion specification, the conversion
            fails—this is a <span class="emphasis"><em>matching failure</em></span>.</p>
          </li>
        </ul>
      </div>

      <p>Each <span class="emphasis"><em>conversion
      specification</em></span> in <em class="parameter"><code>format</code></em> begins with either the
      character '%' or the character sequence "<code class="literal">%</code><code class="literal">n</code><code class="literal">$</code>" (see below for the distinction) followed
      by:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc;">
          <li class="listitem">
            <p>An optional '*' assignment-suppression character:
            <code class="function">scanf</code>() reads input as
            directed by the conversion specification, but discards
            the input. No corresponding <em class="parameter"><code>pointer</code></em> argument is
            required, and this specification is not included in the
            count of successful assignments returned by
            <code class="function">scanf</code>().</p>
          </li>

          <li class="listitem">
            <p>An optional 'm' character. This is used with string
            conversions (<em class="replaceable"><code>%s</code></em>, <em class="replaceable"><code>%c</code></em>, <em class="replaceable"><code>%[</code></em>), and relieves the
            caller of the need to allocate a corresponding buffer
            to hold the input: instead, <code class="function">scanf</code>() allocates a buffer of
            sufficient size, and assigns the address of this buffer
            to the corresponding <em class="parameter"><code>pointer</code></em> argument, which
            should be a pointer to a <span class="emphasis"><em>char *</em></span> variable (this
            variable does not need to be initialized before the
            call). The caller should subsequently <a class="link" href="../htmlman3/malloc.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">free</span>(3)</span></a> this buffer
            when it is no longer required.</p>
          </li>

          <li class="listitem">
            <p>An optional decimal integer which specifies the
            <span class="emphasis"><em>maximum field
            width</em></span>. Reading of characters stops either
            when this maximum is reached or when a nonmatching
            character is found, whichever happens first. Most
            conversions discard initial white space characters (the
            exceptions are noted below), and these discarded
            characters don't count toward the maximum field width.
            String input conversions store a terminating null byte
            ('\0') to mark the end of the input; the maximum field
            width does not include this terminator.</p>
          </li>

          <li class="listitem">
            <p>An optional <span class="emphasis"><em>type modifier
            character</em></span>. For example, the <code class="literal">l</code> type modifier is used with integer
            conversions such as <em class="replaceable"><code>%d</code></em> to specify that the
            corresponding <em class="parameter"><code>pointer</code></em> argument refers
            to a <span class="type">long int</span> rather than a
            pointer to an <span class="type">int</span>.</p>
          </li>

          <li class="listitem">
            <p>A <span class="emphasis"><em>conversion
            specifier</em></span> that specifies the type of input
            conversion to be performed.</p>
          </li>
        </ul>
      </div>

      <p>The conversion specifications in <em class="parameter"><code>format</code></em> are of two forms, either
      beginning with '%' or beginning with "<code class="literal">%</code><code class="literal">n</code><code class="literal">$</code>". The two forms should not be mixed in the
      same <em class="parameter"><code>format</code></em> string,
      except that a string containing "<code class="literal">%</code><code class="literal">n</code><code class="literal">$</code>" specifications can include <em class="replaceable"><code>%%</code></em> and <em class="replaceable"><code>%*</code></em>. If <em class="parameter"><code>format</code></em> contains '%'
      specifications, then these correspond in order with
      successive <em class="parameter"><code>pointer</code></em>
      arguments. In the "<code class="literal">%</code><code class="literal">n</code><code class="literal">$</code>" form (which
      is specified in POSIX.1-2001, but not C99), <code class="literal">n</code> is a decimal integer that specifies that
      the converted input should be placed in the location referred
      to by the <code class="literal">n</code>-th <em class="parameter"><code>pointer</code></em> argument following
      <em class="parameter"><code>format</code></em>.</p>

      <div class="refsect2">
        <a id="scanf-3_sect2" name="scanf-3_sect2" shape="rect"> </a>

        <h3>Conversions</h3>

        <p>The following <span class="emphasis"><em>type modifier
        characters</em></span> can appear in a conversion
        specification:</p>

        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><code class="literal">h</code></span></dt>

            <dd>
              <p>Indicates that the conversion will be one of
              <code class="literal">d</code>, <code class="literal">i</code>, <code class="literal">o</code>,
              <code class="literal">u</code>, <code class="literal">x</code>, <code class="constant">X</code>,
              or <code class="literal">n</code> and the next
              pointer is a pointer to a <span class="type">short
              int</span> or <span class="type">unsigned short
              int</span> (rather than <span class="type">int</span>).</p>
            </dd>

            <dt><span class="term"><code class="literal">hh</code></span></dt>

            <dd>
              <p>As for <code class="literal">h</code>, but the
              next pointer is a pointer to a <span class="emphasis"><em>signed char</em></span> or
              <span class="type">unsigned char</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">j</code></span></dt>

            <dd>
              <p>As for <code class="literal">h</code>, but the
              next pointer is a pointer to an <span class="type">intmax_t</span> or a <span class="type">uintmax_t</span>. This modifier was introduced
              in C99.</p>
            </dd>

            <dt><span class="term"><code class="literal">l</code></span></dt>

            <dd>
              <p>Indicates either that the conversion will be one
              of <code class="literal">d</code>, <code class="literal">i</code>, <code class="literal">o</code>,
              <code class="literal">u</code>, <code class="literal">x</code>, <code class="constant">X</code>,
              or <code class="literal">n</code> and the next
              pointer is a pointer to a <span class="type">long
              int</span> or <span class="type">unsigned long
              int</span> (rather than <span class="type">int</span>), or that the conversion will be
              one of <code class="literal">e</code>, <code class="literal">f</code>, or <code class="literal">g</code>
              and the next pointer is a pointer to <span class="type">double</span> (rather than <span class="type">float</span>). Specifying two <code class="literal">l</code> characters is equivalent to
              <code class="constant">L</code>. If used with
              <em class="replaceable"><code>%c</code></em> or
              <em class="replaceable"><code>%s</code></em>, the
              corresponding parameter is considered as a pointer to
              a wide character or wide-character string
              respectively.</p>
            </dd>

            <dt><span class="term"><code class="constant">L</code></span></dt>

            <dd>
              <p>Indicates that the conversion will be either
              <code class="literal">e</code>, <code class="literal">f</code>, or <code class="literal">g</code>
              and the next pointer is a pointer to <span class="type">long double</span> or the conversion will be
              <code class="literal">d</code>, <code class="literal">i</code>, <code class="literal">o</code>,
              <code class="literal">u</code>, or <code class="literal">x</code> and the next pointer is a pointer
              to <span class="type">long long</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">q</code></span></dt>

            <dd>
              <p>equivalent to <code class="constant">L</code>.
              This specifier does not exist in ANSI C.</p>
            </dd>

            <dt><span class="term"><code class="literal">t</code></span></dt>

            <dd>
              <p>As for <code class="literal">h</code>, but the
              next pointer is a pointer to a <span class="type">ptrdiff_t</span>. This modifier was introduced
              in C99.</p>
            </dd>

            <dt><span class="term"><code class="literal">z</code></span></dt>

            <dd>
              <p>As for <code class="literal">h</code>, but the
              next pointer is a pointer to a <span class="type">size_t</span>. This modifier was introduced in
              C99.</p>
            </dd>
          </dl>
        </div>

        <p>The following <span class="emphasis"><em>conversion
        specifiers</em></span> are available:</p>

        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><code class="literal">%</code></span></dt>

            <dd>
              <p>Matches a literal '%'. That is, <em class="replaceable"><code>%%</code></em> in the format
              string matches a single input '%' character. No
              conversion is done (but initial white space
              characters are discarded), and assignment does not
              occur.</p>
            </dd>

            <dt><span class="term"><code class="literal">d</code></span></dt>

            <dd>
              <p>Matches an optionally signed decimal integer; the
              next pointer must be a pointer to <span class="type">int</span>.</p>
            </dd>

            <dt><span class="term"><code class="constant">D</code></span></dt>

            <dd>
              <p>Equivalent to <code class="literal">ld</code>;
              this exists only for backward compatibility.</p>

              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <table border="0" summary="Note">
                  <tr>
                    <td rowspan="2" align="center" valign="top" width="25" colspan="1"><img alt="[Note]" src="../stylesheet/note.png" /></td>

                    <th align="left" rowspan="1" colspan="1">Note</th>
                  </tr>

                  <tr>
                    <td align="left" valign="top" rowspan="1" colspan="1">
                      <p>Thus only in libc4. In libc5 and glibc the
                      <em class="replaceable"><code>%D</code></em>
                      is silently ignored, causing old programs to
                      fail mysteriously.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </dd>

            <dt><span class="term"><code class="literal">i</code></span></dt>

            <dd>
              <p>Matches an optionally signed integer; the next
              pointer must be a pointer to <span class="type">int</span>. The integer is read in base 16 if
              it begins with <code class="literal">0x</code> or
              <code class="constant">0X</code>, in base 8 if it
              begins with <code class="constant">0</code>, and in
              base 10 otherwise. Only characters that correspond to
              the base are used.</p>

              <p>Matches an unsigned octal integer; the next
              pointer must be a pointer to <span class="type">unsigned int</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">u</code></span></dt>

            <dd>
              <p>Matches an unsigned decimal integer; the next
              pointer must be a pointer to <span class="type">unsigned int</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">x</code></span></dt>

            <dd>
              <p>Matches an unsigned hexadecimal integer; the next
              pointer must be a pointer to <span class="type">unsigned int</span>.</p>
            </dd>

            <dt><span class="term"><code class="constant">X</code></span></dt>

            <dd>
              <p>Equivalent to <code class="literal">x</code>.</p>
            </dd>

            <dt><span class="term"><code class="literal">f</code></span></dt>

            <dd>
              <p>Matches an optionally signed floating-point
              number; the next pointer must be a pointer to
              <span class="type">float</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">e</code></span></dt>

            <dd>
              <p>Equivalent to <code class="literal">f</code>.</p>
            </dd>

            <dt><span class="term"><code class="literal">g</code></span></dt>

            <dd>
              <p>Equivalent to <code class="literal">f</code>.</p>
            </dd>

            <dt><span class="term"><code class="constant">E</code></span></dt>

            <dd>
              <p>Equivalent to <code class="literal">f</code>.</p>
            </dd>

            <dt><span class="term"><code class="literal">a</code></span></dt>

            <dd>
              <p>(C99) Equivalent to <code class="literal">f</code>.</p>
            </dd>

            <dt><span class="term"><code class="literal">s</code></span></dt>

            <dd>
              <p>Matches a sequence of non-white-space characters;
              the next pointer must be a pointer to character array
              that is long enough to hold the input sequence and
              the terminating null byte ('\0'), which is added
              automatically. The input string stops at white space
              or at the maximum field width, whichever occurs
              first.</p>
            </dd>

            <dt><span class="term"><code class="literal">c</code></span></dt>

            <dd>
              <p>Matches a sequence of characters whose length is
              specified by the <span class="emphasis"><em>maximum
              field width</em></span> (default 1); the next pointer
              must be a pointer to <span class="type">char</span>,
              and there must be enough room for all the characters
              (no terminating null byte is added). The usual skip
              of leading white space is suppressed. To skip white
              space first, use an explicit space in the format.</p>
            </dd>

            <dt><span class="term"><code class="literal">[</code></span></dt>

            <dd>
              <p>Matches a nonempty sequence of characters from the
              specified set of accepted characters; the next
              pointer must be a pointer to <span class="type">char</span>, and there must be enough room for
              all the characters in the string, plus a terminating
              null byte. The usual skip of leading white space is
              suppressed. The string is to be made up of characters
              in (or not in) a particular set; the set is defined
              by the characters between the open bracket
              <code class="literal">[</code> character and a close
              bracket <code class="literal">]</code> character. The
              set <span class="emphasis"><em>excludes</em></span>
              those characters if the first character after the
              open bracket is a circumflex (<code class="literal">^</code>). To include a close bracket in
              the set, make it the first character after the open
              bracket or the circumflex; any other position will
              end the set. The hyphen character <span class="emphasis"><em>−</em></span> is also special;
              when placed between two other characters, it adds all
              intervening characters to the set. To include a
              hyphen, make it the last character before the final
              close bracket. For instance, <em class="replaceable"><code>[^]0−9−]</code></em>
              means the set "everything except close bracket, zero
              through nine, and hyphen". The string ends with the
              appearance of a character not in the (or, with a
              circumflex, in) set or when the field width runs
              out.</p>
            </dd>

            <dt><span class="term"><code class="literal">p</code></span></dt>

            <dd>
              <p>Matches a pointer value (as printed by <em class="replaceable"><code>%p</code></em> in <a class="link" href="../htmlman3/printf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">printf</span>(3)</span></a>; the next
              pointer must be a pointer to a pointer to
              <span class="type">void</span>.</p>
            </dd>

            <dt><span class="term"><code class="literal">n</code></span></dt>

            <dd>
              <p>Nothing is expected; instead, the number of
              characters consumed thus far from the input is stored
              through the next pointer, which must be a pointer to
              <span class="type">int</span>. This is <span class="emphasis"><em>not</em></span> a conversion and does
              <span class="emphasis"><em>not</em></span> increase
              the count returned by the function. The assignment
              can be suppressed with the <code class="literal">*</code> assignment-suppression character,
              but the effect on the return value is undefined.
              Therefore <em class="replaceable"><code>%*n</code></em> conversions
              should not be used.</p>
            </dd>
          </dl>
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect3" name="scanf-3_sect3" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p>These functions return the number of input items
      successfully matched and assigned, which can be fewer than
      provided for, or even zero in the event of an early matching
      failure.</p>

      <p>The value <code class="constant">EOF</code> is returned if
      the end of input is reached before either the first
      successful conversion or a matching failure occurs.
      <code class="constant">EOF</code> is also returned if a read
      error occurs, in which case the error indicator for the
      stream (see <a class="link" href="../htmlman3/ferror.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ferror</span>(3)</span></a>) is set, and
      <code class="varname">errno</code> is set to indicate the
      error.</p>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect4" name="scanf-3_sect4" shape="rect"> </a>

      <h2>ERRORS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="errorname">EAGAIN</span></span></dt>

          <dd>
            <p>The file descriptor underlying <em class="parameter"><code>stream</code></em> is marked
            nonblocking, and the read operation would block.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EBADF</span></span></dt>

          <dd>
            <p>The file descriptor underlying <em class="parameter"><code>stream</code></em> is invalid, or not
            open for reading.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EILSEQ</span></span></dt>

          <dd>
            <p>Input byte sequence does not form a valid
            character.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EINTR</span></span></dt>

          <dd>
            <p>The read operation was interrupted by a signal; see
            <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a>.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>

          <dd>
            <p>Not enough arguments; or <em class="parameter"><code>format</code></em> is NULL.</p>
          </dd>

          <dt><span class="term"><span class="errorname">ENOMEM</span></span></dt>

          <dd>
            <p>Out of memory.</p>
          </dd>

          <dt><span class="term"><span class="errorname">ERANGE</span></span></dt>

          <dd>
            <p>The result of an integer conversion would exceed the
            size that can be stored in the corresponding integer
            type.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect5" name="scanf-3_sect5" shape="rect"> </a>

      <h2>ATTRIBUTES</h2>

      <p>For an explanation of the terms used in this section, see
      <a class="link" href="../htmlman7/attributes.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">attributes</span>(7)</span></a>.</p>

      <div class="informaltable">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col class="c0" span="1" />
            <col class="c1" span="1" />
            <col class="c2" span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" align="left" rowspan="1" colspan="1">Interface</td>

              <td style="" align="left" rowspan="1" colspan="1">Attribute</td>

              <td style="" align="left" rowspan="1" colspan="1">Value</td>
            </tr>

            <tr>
              <td style="" align="left" rowspan="1" colspan="1">
                <p><code class="literal">scanf</code>(),
                <code class="literal">fscanf</code>(),</p>

                <p><code class="literal">sscanf</code>(),
                <code class="literal">vscanf</code>(),</p>

                <p><code class="literal">vsscanf</code>(),
                <code class="literal">vfscanf</code>()</p>
              </td>

              <td style="" align="left" rowspan="1" colspan="1">Thread safety</td>

              <td style="" align="left" rowspan="1" colspan="1">MT-Safe locale</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect6" name="scanf-3_sect6" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>The functions <code class="function">fscanf</code>(),
      <code class="function">scanf</code>(), and <code class="function">sscanf</code>() conform to C89 and C99 and
      POSIX.1-2001. These standards do not specify the <span class="errorname">ERANGE</span> error.</p>

      <p>The <code class="literal">q</code> specifier is the 4.4BSD
      notation for <span class="type">long long</span>, while
      <code class="literal">ll</code> or the usage of <code class="constant">L</code> in integer conversions is the GNU
      notation.</p>

      <p>The Linux version of these functions is based on the
      <code class="constant">GNU</code> <code class="systemitem">libio</code> library. Take a look at the
      <span class="command"><strong>info</strong></span>
      documentation of <code class="constant">GNU</code>
      <span class="emphasis"><em>libc (glibc-1.08)</em></span> for
      a more concise description.</p>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect7" name="scanf-3_sect7" shape="rect"> </a>

      <h2>NOTES</h2>

      <div class="refsect2">
        <a id="scanf-3_sect8" name="scanf-3_sect8" shape="rect"> </a>

        <h3>The 'a' assignment-allocation modifier</h3>

        <p>Originally, the GNU C library supported dynamic
        allocation for string inputs (as a nonstandard extension)
        via the <code class="literal">a</code> character. (This
        feature is present at least as far back as glibc 2.0.)
        Thus, one could write the following to have <code class="function">scanf</code>() allocate a buffer for an input
        string, with a pointer to that buffer being returned in
        <code class="function">*buf</code>:</p>

        <p>char *buf; scanf("%as", &amp;buf);</p>

        <p>The use of the letter <code class="literal">a</code> for
        this purpose was problematic, since <code class="literal">a</code> is also specified by the ISO C standard
        as a synonym for <code class="literal">f</code>
        (floating-point input). POSIX.1-2008 instead specifies the
        <code class="literal">m</code> modifier for assignment
        allocation (as documented in DESCRIPTION, above).</p>

        <p>Note that the <code class="literal">a</code> modifier is
        not available if the program is compiled with <span class="emphasis"><em>gcc -std=c99</em></span> or <span class="emphasis"><em>gcc -D_ISOC99_SOURCE</em></span> (unless
        <code class="constant">_GNU_SOURCE</code> is also
        specified), in which case the <code class="literal">a</code> is interpreted as a specifier for
        floating-point numbers (see above).</p>

        <p>Support for the <code class="literal">m</code> modifier
        was added to glibc starting with version 2.7, and new
        programs should use that modifier instead of <code class="literal">a</code>.</p>

        <p>As well as being standardized by POSIX, the <code class="literal">m</code> modifier has the following further
        advantages over the use of <em class="replaceable"><code>a:</code></em></p>

        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc;">
            <li class="listitem">
              <p>It may also be applied to <em class="replaceable"><code>%c</code></em> conversion
              specifiers (e.g., <em class="replaceable"><code>%3mc</code></em>).</p>
            </li>

            <li class="listitem">
              <p>It avoids ambiguity with respect to the <em class="replaceable"><code>%a</code></em> floating-point
              conversion specifier (and is unaffected by
              <span class="emphasis"><em>gcc -std=c99</em></span>
              etc.).</p>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect9" name="scanf-3_sect9" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>All functions are fully C89 conformant, but provide the
      additional specifiers <code class="literal">q</code> and
      <code class="literal">a</code> as well as an additional
      behavior of the <code class="constant">L</code> and
      <code class="literal">l</code> specifiers. The latter may be
      considered to be a bug, as it changes the behavior of
      specifiers defined in C89.</p>

      <p>Some combinations of the type modifiers and conversion
      specifiers defined by ANSI C do not make sense (e.g.,
      <em class="replaceable"><code>%Ld</code></em>). While they
      may have a well-defined behavior on Linux, this need not to
      be so on other architectures. Therefore it usually is better
      to use modifiers that are not defined by ANSI C at all, that
      is, use <code class="literal">q</code> instead of
      <code class="constant">L</code> in combination with
      <code class="literal">d</code>, <code class="literal">i</code>, <code class="literal">o</code>,
      <code class="literal">u</code>, <code class="literal">x</code>, and <code class="constant">X</code>
      conversions or <code class="literal">ll</code>.</p>

      <p>The usage of <code class="literal">q</code> is not the
      same as on 4.4BSD, as it may be used in float conversions
      equivalently to <code class="constant">L</code>.</p>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect10" name="scanf-3_sect10" shape="rect"> </a>

      <h2>EXAMPLE</h2>

      <p>To use the dynamic allocation conversion specifier,
      specify <code class="literal">m</code> as a length modifier
      (thus <em class="replaceable"><code>%ms</code></em> or
      <em class="replaceable"><code>%m[</code></em><code class="function">range</code><code class="literal">]</code>). The
      caller must <a class="link" href="../htmlman3/malloc.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">free</span>(3)</span></a> the returned
      string, as in the following example:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
char *p;
int n;

errno = 0;
n = scanf("%m[a-z]", &amp;p);
if (n == 1) {
    printf("read: %s\n", p);
    free(p);
} else if (errno != 0) {
    perror("scanf");
} else {
    fprintf(stderr, "No matching characters\n");
}
</pre>
          </div>
        </blockquote>
      </div>

      <p>As shown in the above example, it is necessary to call
      <a class="link" href="../htmlman3/malloc.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">free</span>(3)</span></a> only if the
      <code class="function">scanf</code>() call successfully read
      a string.</p>
    </div>

    <div class="refsect1">
      <a id="scanf-3_sect11" name="scanf-3_sect11" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/fgetc.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getc</span>(3)</span></a>, <a class="link" href="../htmlman3/printf.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">printf</span>(3)</span></a>, <a class="link" href="../htmlman3/setlocale.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">setlocale</span>(3)</span></a>, <a class="link" href="../htmlman3/strtod.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strtod</span>(3)</span></a>, <a class="link" href="../htmlman3/strtol.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strtol</span>(3)</span></a>, <a class="link" href="../htmlman3/strtoul.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strtoul</span>(3)</span></a></p>
    </div>

    <div class="colophon">
      <a id="scanf-3_sect12" name="scanf-3_sect12" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 4.00 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man−pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (c) 1990, 1991 The Regents of the University of California.<br />

                  All rights reserved.<br />
                  <br />
                  This code is derived from software contributed to Berkeley by<br />

                  Chris Torek and the American National Standards Committee X3,<br />

                  on Information Processing Systems.<br />

                  <br />
                  %%%LICENSE_START(BSD_4_CLAUSE_UCB)<br />
                  Redistribution and use in source and binary forms, with or without<br />

                  modification, are permitted provided that the following conditions<br />

                  are met:<br />
                  1. Redistributions of source code must retain the above copyright<br />

                     notice, this list of conditions and the following disclaimer.<br />

                  2. Redistributions in binary form must reproduce the above copyright<br />

                     notice, this list of conditions and the following disclaimer in the<br />

                     documentation and/or other materials provided with the distribution.<br />

                  3. All advertising materials mentioning features or use of this software<br />

                     must display the following acknowledgement:<br />

                  This product includes software developed by the University of<br />

                  California, Berkeley and its contributors.<br />

                  4. Neither the name of the University nor the names of its contributors<br />

                     may be used to endorse or promote products derived from this software<br />

                     without specific prior written permission.<br />

                  <br />
                  THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND<br />

                  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE<br />

                  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE<br />

                  ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE<br />

                  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL<br />

                  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS<br />

                  OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)<br />

                  HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT<br />

                  LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY<br />

                  OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF<br />

                  SUCH DAMAGE.<br />
                  %%%LICENSE_END<br />
                  <br />
                      <script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>(#)scanf.3
                  6.14 (Berkeley) 1/8/93<br />
                  <br />
                  Converted for Linux, Mon Nov 29 15:22:01 1993, faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu<br />

                  modified to resemble the GNU libio setup used in the Linux libc<br />

                  used in versions 4.x (x&gt;4) and 5   Helmut.Geyer<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>iwr.uni-heidelberg.de<br />

                  Modified, aeb, 970121<br />
                  2005-07-14, mtk, added description of %n$ form; various text<br />

                  incorporated from the GNU C library documentation ((C) The<br />

                  Free Software Foundation); other parts substantially rewritten.<br />

                  <br />
                  2008-06-23, mtk<br />
                      Add ERRORS section.<br />

                      Document the 'a' and 'm' modifiers for dynamic string allocation.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
