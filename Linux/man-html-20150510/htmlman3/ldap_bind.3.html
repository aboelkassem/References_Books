<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>ldap_bind(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="ldap_bind(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="ldap-bind.3" name="ldap-bind.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>ldap_bind, ldap_bind_s, ldap_simple_bind,
      ldap_simple_bind_s, ldap_sasl_bind, ldap_sasl_bind_s,
      ldap_sasl_interactive_bind_s, ldap_parse_sasl_bind_result,
      ldap_unbind, ldap_unbind_s, ldap_unbind_ext,
      ldap_unbind_ext_s, ldap_set_rebind_proc — LDAP bind
      routines</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;ldap.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_bind</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">who</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">cred</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">method</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_bind_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">who</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">cred</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">method</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_simple_bind</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">who</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">passwd</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_simple_bind_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">who</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">passwd</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_sasl_bind</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">dn</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">mechanism</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct berval *<var class="pdparam">cred</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">msgidp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_sasl_bind_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">dn</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">mechanism</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct berval *<var class="pdparam">cred</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct berval **<var class="pdparam">servercredp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_parse_sasl_bind_result</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPMessage *<var class="pdparam">res</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct berval **<var class="pdparam">servercredp</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">freeit</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_sasl_interactive_bind_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">dn</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">mechs</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned <var class="pdparam">flags</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAP_SASL_INTERACT_PROC *<var class="pdparam">interact</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">defaults</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_sasl_interactive_bind</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">dn</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">mechs</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned <var class="pdparam">flags</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAP_SASL_INTERACT_PROC *<var class="pdparam">interact</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">defaults</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPMessage *<var class="pdparam">result</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char **<var class="pdparam">rmechp</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">msgidp</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>(LDAP_SASL_INTERACT_PROC)</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned <var class="pdparam">flags</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">defaults</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">sasl_interact</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_unbind</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_unbind_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_unbind_ext</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_unbind_ext_s</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">sctrls[]</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAPControl *<var class="pdparam">cctrls[]</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>ldap_set_rebind_proc</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAP_REBIND_PROC *<var class="pdparam">ldap_proc</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">params</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>(LDAP_REBIND_PROC)</strong>(</code></td>

            <td rowspan="1" colspan="1">LDAP *<var class="pdparam">ld</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">LDAP_CONST char *<var class="pdparam">url</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">ber_tag_t <var class="pdparam">request</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">ber_int_t <var class="pdparam">msgid</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">void *<var class="pdparam">params</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect1" name="ldap-bind-3_sect1" shape="rect"> </a>

      <h2>LIBRARY</h2>

      <p>OpenLDAP LDAP (libldap, −lldap)</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect2" name="ldap-bind-3_sect2" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>These routines provide various interfaces to the LDAP bind
      operation. After an association with an LDAP server is made
      using <a class="link" href="../htmlman3/ldap_open.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_init</span>(3)</span></a>, an LDAP bind
      operation should be performed before other operations are
      attempted over the connection. An LDAP bind is required when
      using Version 2 of the LDAP protocol; it is optional for
      Version 3 but is usually needed due to security
      considerations.</p>

      <p>There are three types of bind calls, ones providing simple
      authentication, ones providing SASL authentication, and
      general routines capable of doing either simple or SASL
      authentication.</p>

      <p><code class="constant">SASL</code> (Simple Authentication
      and Security Layer) can negotiate one of many different kinds
      of authentication. Both synchronous and asynchronous versions
      of each variant of the bind call are provided. All routines
      take <em class="parameter"><code>ld</code></em> as their
      first parameter, as returned from <a class="link" href="../htmlman3/ldap_open.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_init</span>(3)</span></a>.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect3" name="ldap-bind-3_sect3" shape="rect"> </a>

      <h2>SIMPLE AUTHENTICATION</h2>

      <p>The simplest form of the bind call is <code class="function">ldap_simple_bind_s</code><code class="literal">(</code><code class="literal">)</code>. It takes
      the DN to bind as in <em class="parameter"><code>who</code></em>, and the userPassword
      associated with the entry in <em class="parameter"><code>passwd</code></em>. It returns an LDAP
      error indication (see <a class="link" href="../htmlman3/ldap_error.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_error</span>(3)</span></a>). The
      <code class="function">ldap_simple_bind</code>() call is
      asynchronous, taking the same parameters but only initiating
      the bind operation and returning the message id of the
      request it sent. The result of the operation can be obtained
      by a subsequent call to <a class="link" href="../htmlman3/ldap_result.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_result</span>(3)</span></a>.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect4" name="ldap-bind-3_sect4" shape="rect"> </a>

      <h2>GENERAL AUTHENTICATION</h2>

      <p>The <code class="function">ldap_bind</code>() and
      <code class="function">ldap_bind_s</code>() routines can be
      used when the authentication method to use needs to be
      selected at runtime. They both take an extra <em class="parameter"><code>method</code></em> parameter selecting the
      authentication method to use. It should be set to
      LDAP_AUTH_SIMPLE to select simple authentication.
      <code class="function">ldap_bind</code>() returns the message
      id of the request it initiates. <code class="function">ldap_bind_s</code>() returns an LDAP error
      indication.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect5" name="ldap-bind-3_sect5" shape="rect"> </a>

      <h2>SASL AUTHENTICATION</h2>

      <p>For SASL binds the server always ignores any provided DN,
      so the <em class="parameter"><code>dn</code></em> parameter
      should always be NULL. <code class="function">ldap_sasl_bind_s</code>() sends a single SASL bind
      request with the given SASL <em class="parameter"><code>mechanism</code></em> and credentials in
      the <em class="parameter"><code>cred</code></em> parameter.
      The format of the credentials depends on the particular SASL
      mechanism in use. For mechanisms that provide mutual
      authentication the server's credentials will be returned in
      the <em class="parameter"><code>servercredp</code></em>
      parameter. The routine returns an LDAP error indication (see
      <a class="link" href="../htmlman3/ldap_error.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_error</span>(3)</span></a>). The
      <code class="function">ldap_sasl_bind</code>() call is
      asynchronous, taking the same parameters but only sending the
      request and returning the message id of the request it sent.
      The result of the operation can be obtained by a subsequent
      call to <a class="link" href="../htmlman3/ldap_result.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_result</span>(3)</span></a>. The result
      must be additionally parsed by <code class="function">ldap_parse_sasl_bind_result</code>() to obtain any
      server credentials sent from the server.</p>

      <p>Many SASL mechanisms require multiple message exchanges to
      perform a complete authentication. Applications should
      generally use <code class="function">ldap_sasl_interactive_bind_s</code>() rather than
      calling the basic <code class="function">ldap_sasl_bind</code>() functions directly. The
      <em class="parameter"><code>mechs</code></em> parameter
      should contain a space-separated list of candidate mechanisms
      to use. If this parameter is NULL or empty the library will
      query the supportedSASLMechanisms attribute from the server's
      rootDSE for the list of SASL mechanisms the server supports.
      The <em class="parameter"><code>flags</code></em> parameter
      controls the interaction used to retrieve any necessary SASL
      authentication parameters and should be one of:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">LDAP_SASL_AUTOMATIC</code></span></dt>

          <dd>
            <p>use defaults if available, prompt otherwise</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_SASL_INTERACTIVE</code></span></dt>

          <dd>
            <p>always prompt</p>
          </dd>

          <dt><span class="term"><code class="constant">LDAP_SASL_QUIET</code></span></dt>

          <dd>
            <p>never prompt</p>
          </dd>
        </dl>
      </div>

      <p>The <em class="parameter"><code>interact</code></em>
      function uses the provided <em class="parameter"><code>defaults</code></em> to handle requests
      from the SASL library for particular authentication
      parameters. There is no defined format for the <em class="parameter"><code>defaults</code></em> information; it is up
      to the caller to use whatever format is appropriate for the
      supplied <em class="parameter"><code>interact</code></em>
      function. The <em class="parameter"><code>sasl_interact</code></em> parameter comes
      from the underlying SASL library. When used with Cyrus SASL
      this is an array of <span class="type">sasl_interact_t</span>
      structures. The Cyrus SASL library will prompt for a variety
      of inputs, including:</p>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">SASL_CB_GETREALM</code></span></dt>

          <dd>
            <p>the realm for the authentication attempt</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_AUTHNAME</code></span></dt>

          <dd>
            <p>the username to authenticate</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_PASS</code></span></dt>

          <dd>
            <p>the password for the provided username</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_USER</code></span></dt>

          <dd>
            <p>the username to use for proxy authorization</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_NOECHOPROMPT</code></span></dt>

          <dd>
            <p>generic prompt for input with input echoing
            disabled</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_ECHOPROMPT</code></span></dt>

          <dd>
            <p>generic prompt for input with input echoing
            enabled</p>
          </dd>

          <dt><span class="term"><code class="constant">SASL_CB_LIST_END</code></span></dt>

          <dd>
            <p>indicates the end of the array of prompts</p>
          </dd>
        </dl>
      </div>

      <p>See the Cyrus SASL documentation for more details.</p>

      <p>Applications which need to manage connections
      asynchronously may use <code class="function">ldap_sasl_interactive_bind</code>() instead of the
      synchronous version. A valid mechs parameter must be
      supplied, otherwise the library will be forced to query the
      server for a list of supported mechanisms, and this query
      will be performed synchronously. The other parameters are the
      same as for the synchronous function, with three additional
      parameters. The actual SASL mechanism that was used, and the
      message ID for use with <code class="function">ldap_result</code>() will be returned in rmechp
      and msgidp, respectively. The value in rmechp must not be
      modified by the caller and must be passed back on each
      subsequent call. The message obtained from <code class="function">ldap_result</code>() must be passed in the result
      parameter. This parameter must be NULL when initiating a new
      Bind. The caller must free the result message after each call
      using <code class="function">ldap_msgfree</code>(). The
      <code class="function">ldap_sasl_interactive_bind</code>()
      function returns an LDAP result code. If the code is
      LDAP_SASL_BIND_IN_PROGRESS then the Bind is not complete yet,
      and this function must be called again with the next result
      from the server.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect6" name="ldap-bind-3_sect6" shape="rect"> </a>

      <h2>REBINDING</h2>

      <p>The <code class="function">ldap_set_rebind_proc</code>
      function() sets the process to use for binding when an
      operation returns a referral. This function is used when an
      application needs to bind to another server in order to
      follow a referral or search continuation reference.</p>

      <p>The function takes <em class="parameter"><code>ld</code></em>, the <code class="function">rebind</code> function, and the <em class="parameter"><code>params</code></em>, the arbitrary data like
      state information which the client might need to properly
      rebind. The LDAP_OPT_REFERRALS option in the <em class="parameter"><code>ld</code></em> must be set to ON for the
      libraries to use the rebind function. Use the <code class="function">ldap_set_option</code> function to set the
      value.</p>

      <p>The rebind function parameters are as follows:</p>

      <p>The <em class="parameter"><code>ld</code></em> parameter
      must be used by the application when binding to the referred
      server if the application wants the libraries to follow the
      referral.</p>

      <p>The <em class="parameter"><code>url</code></em> parameter
      points to the URL referral string received from the LDAP
      server. The LDAP application can use the <a class="link" href="../htmlman3/ldap_url.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_url_parse</span>(3)</span></a> function
      to parse the string into its components.</p>

      <p>The <em class="parameter"><code>request</code></em>
      parameter specifies the type of request that generated the
      referral.</p>

      <p>The <em class="parameter"><code>msgid</code></em>
      parameter specifies the message ID of the request generating
      the referral.</p>

      <p>The <em class="parameter"><code>params</code></em>
      parameter is the same value as passed originally to the
      <code class="function">ldap_set_rebind_proc</code>()
      function.</p>

      <p>The LDAP libraries set all the parameters when they call
      the rebind function. The application should not attempt to
      free either the ld or the url structures in the rebind
      function.</p>

      <p>The application must supply to the rebind function the
      required authentication information such as, user name,
      password, and certificates. The rebind function must use a
      synchronous bind method.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect7" name="ldap-bind-3_sect7" shape="rect"> </a>

      <h2>UNBINDING</h2>

      <p>The <code class="function">ldap_unbind</code>() call is
      used to unbind from the directory, terminate the current
      association, and free the resources contained in the
      <em class="parameter"><code>ld</code></em> structure. Once it
      is called, the connection to the LDAP server is closed, and
      the <em class="parameter"><code>ld</code></em> structure is
      invalid. The <code class="function">ldap_unbind_s</code>()
      call is just another name for <code class="function">ldap_unbind</code><code class="literal">(</code><code class="literal">)</code>; both of
      these calls are synchronous in nature.</p>

      <p>The <code class="function">ldap_unbind_ext</code>() and
      <code class="function">ldap_unbind_ext_s</code>() allows the
      operations to specify controls.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect8" name="ldap-bind-3_sect8" shape="rect"> </a>

      <h2>ERRORS</h2>

      <p>Asynchronous routines will return −1 in case of
      error, setting the <code class="function">ld_errno</code>
      parameter of the <em class="parameter"><code>ld</code></em>
      structure. Synchronous routines return whatever <code class="function">ld_errno</code> is set to. See <a class="link" href="../htmlman3/ldap_error.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_error</span>(3)</span></a> for more
      information.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect9" name="ldap-bind-3_sect9" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>If an anonymous bind is sufficient for the application,
      the rebind process need not be provided. The LDAP libraries
      with the LDAP_OPT_REFERRALS option set to ON (default value)
      will automatically follow referrals using an anonymous
      bind.</p>

      <p>If the application needs stronger authentication than an
      anonymous bind, you need to provide a rebind process for that
      authentication method. The bind method must be
      synchronous.</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect10" name="ldap-bind-3_sect10" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/ldap.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap</span>(3)</span></a>, <a class="link" href="../htmlman3/ldap_error.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_error</span>(3)</span></a>, <a class="link" href="../htmlman3/ldap_open.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_open</span>(3)</span></a>, <a class="link" href="../htmlman3/ldap_get_option.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_set_option</span>(3)</span></a>,
      <a class="link" href="../htmlman3/ldap_url.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">ldap_url_parse</span>(3)</span></a>
      <span class="emphasis"><em>RFC 4422</em></span>
      (http://www.rfc-editor.org), <span class="emphasis"><em>Cyrus
      SASL</em></span> (http://asg.web.cmu.edu/sasl/)</p>
    </div>

    <div class="refsect1">
      <a id="ldap-bind-3_sect11" name="ldap-bind-3_sect11" shape="rect"> </a>

      <h2>ACKNOWLEDGEMENTS</h2>

      <p><span class="emphasis"><em>OpenLDAP Software</em></span>
      is developed and maintained by The OpenLDAP Project
      &lt;<a class="literalurl" href="http://www.openldap.org/" target="_top" shape="rect">http://www.openldap.org/</a>&gt;. <span class="emphasis"><em>OpenLDAP Software</em></span> is derived from
      University of Michigan LDAP 3.3 Release.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                  See the following documents: <a class="ulink" href="../openldap-COPYRIGHT.html" target="_top" shape="rect">COPYRIGHT</a>, <a class="ulink" href="../openldap-LICENSE.html" target="_top" shape="rect">LICENSE</a><br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
